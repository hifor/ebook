<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Python 学习笔记 基础篇 | 计算机电子书 - Hifor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="整理：Jims of 肥肥世家 jims.yang@gmail.com Copyright © 2004，2005，2006 本文遵从GNU 的自由文档许可证(Free Document License)的条款，欢迎转载、修改、散布。 发布时间：2004年07月10日 更新时间：2006年06月14日，把参考篇的内容合并进来。">
<meta name="keywords" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="Python 学习笔记 基础篇">
<meta property="og:url" content="http://hifor.net/uncategorized/python-note-basic/index.html">
<meta property="og:site_name" content="计算机电子书 - Hifor">
<meta property="og:description" content="整理：Jims of 肥肥世家 jims.yang@gmail.com Copyright © 2004，2005，2006 本文遵从GNU 的自由文档许可证(Free Document License)的条款，欢迎转载、修改、散布。 发布时间：2004年07月10日 更新时间：2006年06月14日，把参考篇的内容合并进来。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-06-29T01:11:41.500Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python 学习笔记 基础篇">
<meta name="twitter:description" content="整理：Jims of 肥肥世家 jims.yang@gmail.com Copyright © 2004，2005，2006 本文遵从GNU 的自由文档许可证(Free Document License)的条款，欢迎转载、修改、散布。 发布时间：2004年07月10日 更新时间：2006年06月14日，把参考篇的内容合并进来。">
  
    <link rel="alternative" href="/ebook/atom.xml" title="计算机电子书 - Hifor" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//fonts.css.network/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/ebook/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer">

    <div id="header-inner">
      <div class="outer">
      <h1 id="logo-wrap"><a href="/" id="logo">计算机电子书 - Hifor</a></h1>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/ebook/../">Home</a>
        
          <a class="main-nav-link" href="/ebook/../ebook/">Ebook</a>
        
          <a class="main-nav-link" href="/ebook/../about/">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/ebook/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hifor.net"></form>
      </div>
      </div>
    </div>

  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-python-note-basic" class="article article-type-post article-con" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/ebook/uncategorized/python-note-basic/" class="article-date">
  <time datetime="2016-03-13T09:20:25.000Z" itemprop="datePublished">2016-03-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Python 学习笔记 基础篇
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>整理：Jims of <a href="http://www.ringkee.com" target="_blank" rel="noopener">肥肥世家</a></p>
<p><a href="mailto:jims.yang@gmail.com" target="_blank" rel="noopener">jims.yang@gmail.com</a></p>
<p>Copyright © 2004，2005，2006 本文遵从GNU 的自由文档许可证(Free Document License)的条款，欢迎转载、修改、散布。</p>
<p>发布时间：2004年07月10日</p>
<p>更新时间：2006年06月14日，把参考篇的内容合并进来。</p>
<a id="more"></a>
<p><strong>Abstract</strong></p>
<p>现时国内python的中文资料极少，使学习Python较困难。国外的资料虽多，但都是英文的，使我们学习起来很不方便。有鉴于此，我开始了Python中文资料库的整理工作，以推动Python的发展和在中国的应用。在自由的世界里，正因为有你的支持和帮助，才使我得以不断前进。我相信我们每人一小步就可带动python在中国前进一大步。</p>
<!--more-->
<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#id2875104">1. 绪论</a><ul>
<li><a href="#id2811704">1.1. Python历史</a></li>
<li><a href="#id2811781">1.2. Python功能简介</a></li>
<li><a href="#id2810170">1.3. 应用范围</a></li>
<li><a href="#id2810267">1.4. 如何开始？</a></li>
</ul>
</li>
<li><a href="#id2861425">2. Python编程习惯与特点</a><ul>
<li><a href="#id2861433">2.1. 代码风格</a></li>
<li><a href="#id2861575">2.2. 保留字</a></li>
<li><a href="#id2861594">2.3. Python运算符和表达式</a><ul>
<li><a href="#id2861602">2.3.1. Python运算符</a></li>
<li><a href="#id2861844">2.3.2. 运算符优先顺序</a></li>
<li><a href="#id2808594">2.3.3. 真值表</a></li>
<li><a href="#id2808746">2.3.4. 复合表达式</a></li>
</ul>
</li>
<li><a href="#id2808820">2.4. 给变量赋值</a></li>
</ul>
</li>
<li><a href="#id2808911">3. Python内建对象类型</a><ul>
<li><a href="#id2808928">3.1. Number数值型</a></li>
<li><a href="#id2809008">3.2. String字符串型</a><ul>
<li><a href="#id2809192">3.2.1. 字符串的格式化</a></li>
<li><a href="#id2809469">3.2.2. 转义字符</a></li>
<li><a href="#id2875369">3.2.3. Unicode字符串</a></li>
<li><a href="#id2875512">3.2.4. 原始字符串</a></li>
</ul>
</li>
<li><a href="#id2875536">3.3. List列表</a></li>
<li><a href="#id2875904">3.4. Tuple元组</a></li>
<li><a href="#id2875979">3.5. 序列对象</a></li>
<li><a href="#id2876078">3.6. Dictionary字典</a></li>
<li><a href="#id2876321">3.7. File文件</a></li>
<li><a href="#id2876343">3.8. 理解引用</a></li>
<li><a href="#id2876409">3.9. copy and deepcopy</a></li>
<li><a href="#id2876486">3.10. 标识数据类型</a></li>
<li><a href="#id2876523">3.11. 数组对象</a></li>
</ul>
</li>
<li><a href="#id2876868">4. 控制语句</a></li>
<li><a href="#id2877126">5. 函数</a><ul>
<li><a href="#id2877464">5.1. 常用函数</a></li>
<li><a href="#id2877751">5.2. 内置类型转换函数</a></li>
<li><a href="#id2878060">5.3. 序列处理函数</a></li>
</ul>
</li>
<li><a href="#id2878241">6. 模块</a><ul>
<li><a href="#id2878430">6.1. String模块</a></li>
<li><a href="#id2878537">6.2. time模块</a></li>
</ul>
</li>
<li><a href="#id2878619">7. 类</a></li>
<li><a href="#id2878694">8. 异常处理</a></li>
<li><a href="#id2878856">9. 文件处理</a><ul>
<li><a href="#id2878871">9.1. 文件处理的函数和方法</a></li>
<li><a href="#id2879330">9.2. 示例</a></li>
</ul>
</li>
<li><a href="#id2879657">10. 正则表达式</a><ul>
<li><a href="#id2879700">10.1. 基本元素</a></li>
<li><a href="#id2880568">10.2. 操作</a></li>
</ul>
</li>
<li><a href="#id2881059">11. 调试</a></li>
<li><a href="#id2881117">12. HOW-TO</a></li>
</ul>
<h2 id="Chapter-1-绪论"><a href="#Chapter-1-绪论" class="headerlink" title="Chapter 1. 绪论"></a>Chapter 1. 绪论</h2><h2 id="1-1-Python历史"><a href="#1-1-Python历史" class="headerlink" title="1.1. Python历史"></a>1.1. Python历史</h2><p>Python是一种开源的面向对象的脚本语言，它起源于1989年末，当时，CWI（阿姆斯特丹国家数学和计算机科学研究所）的研究员Guido van Rossum需要一种高级脚本编程语言，为其研究小组的Amoeba分布式操作系统执行管理任务。为创建新语言，他从高级数学语言ABC（ALL BASIC CODE）汲取了大量语法，并从系统编程语言Modula-3借鉴了错语处理机制。Van Rossum把这种新的语言命名为Python（大蟒蛇）—来源于BBC当时正在热播的喜剧连续剧“Monty Python”。</p>
<p>Python于1991年初公开发行，由于功能强大和采用开源方式发行，Python的发展得很快，用户越来越多，形成了一个强大的社区力量。2001年，Python的核心开发团队移师Digital Creations公司，该公司是Zope（一个用Python编写的web应用服务器）的创始者。现在最新的版本是python2.3.4，大家可到<a href="http://www.python.org" target="_blank" rel="noopener">http://www.python.org</a>上了解最新的Python动态和资料 。</p>
<h2 id="1-2-Python功能简介"><a href="#1-2-Python功能简介" class="headerlink" title="1.2. Python功能简介"></a>1.2. Python功能简介</h2><p>Python是一种解析性的，交互式的，面向对象的编程语言，类似于Perl、Tcl、Scheme或Java。</p>
<p>Python一些主要功能介绍:</p>
<ul>
<li><p>Python使用一种优雅的语法，可读性强。</p>
</li>
<li><p>Python是一种很灵活的语言，能帮你轻松完成编程工作。并可作为一种原型开发语言，加快大型程序的开发速度。</p>
</li>
<li><p>有多种数据类型：numbers (integers, floating point, complex, and unlimited-length long integers), strings (ASCII 和 Unicode), lists, dictionaries。</p>
</li>
<li><p>Python支持类和多层继承等的面向对象编程技术。</p>
</li>
<li><p>代码能打包成模块和包，方便管理和发布。</p>
</li>
<li><p>支持异常处理，能有效捕获和处理程序中发生的错误。</p>
</li>
<li><p>强大的动态数据类型支持，不同数据类型相加会引发一个异常。</p>
</li>
<li><p>Python支持如生成器和列表嵌套等高级编程功能。</p>
</li>
<li><p>自动内存碎片管理，有效利用内存资源。</p>
</li>
<li><p>强大的类库支持，使编写文件处理、正则表达式，网络连接等程序变得相当容易。</p>
</li>
<li><p>Python的交互命令行模块能方便地进行小代码调试和学习。</p>
</li>
<li><p>Python易于扩展，可以通过C或C++编写的模块进行功能扩展。</p>
</li>
<li><p>Python解析器可作为一个编程接口嵌入一个应用程序中。</p>
</li>
<li><p>Python可运行在多种计算机平台和操作系统中，如各位unix，windows，MacOS,OS/2等等。</p>
</li>
<li><p>Python是开源的，可自由免费使用和发布，并且可用于商业用途以获取利润。如想详细了解Python的许可协议可到以下网址查询<a href="http://www.python.org/psf/license.html" target="_blank" rel="noopener">http://www.python.org/psf/license.html</a></p>
</li>
</ul>
<h2 id="1-3-应用范围"><a href="#1-3-应用范围" class="headerlink" title="1.3. 应用范围"></a>1.3. 应用范围</h2><ul>
<li><p>系统编程，提供大量系统接口API，能方便进行系统维护和管理。</p>
</li>
<li><p>图形处理，有PIL、Tkinter等图形库支持，能方便进行图形处理。</p>
</li>
<li><p>数学处理，NumPy扩展提供大量与许多标准数学库的接口，</p>
</li>
<li><p>文本处理，python提供的re模块能支持正则表达式，还提供SGML，XML分析模块，许多程序员利用python进行XML程序的开发。</p>
</li>
<li><p>数据库编程，程序员可通过遵循Python DB-API（数据库应用程序编程接口）规范的模块与Microsoft SQL Server，Oracle，Sybase，DB2，Mysql等数据库通信。python自带有一个Gadfly模块，提供了一个完整的SQL环境。</p>
</li>
<li><p>网络编程，提供丰富的模块支持sockets编程，能方便快速地开发分布式应用程序。</p>
</li>
<li><p>作为Web应用的开发语言，支持最新的XML技术。</p>
</li>
<li><p>多媒体应用，Python的PyOpenGL模块封装了“OpenGL应用程序编程接口”，能进行二维和三维图像处理。PyGame模块可用于编写游戏软件。</p>
</li>
</ul>
<h2 id="1-4-如何开始？"><a href="#1-4-如何开始？" class="headerlink" title="1.4. 如何开始？"></a>1.4. 如何开始？</h2><ul>
<li><p>进入交互命令行方式。如果是linux类的系统，python解析器应该已经安装在/usr/local/bin/python中，直接打python就可进入交互式命令行界面，如下所示:</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Python 2.3.3 (#1, Apr 27 2004, 15:17:58)</span><br><span class="line">[GCC 3.2 20020903 (Red Hat Linux 8.0 3.2-7)] on linux2</span><br><span class="line">Type <span class="string">"help"</span>, <span class="string">"copyright"</span>, <span class="string">"credits"</span> <span class="keyword">or</span> <span class="string">"license"</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>“&gt;&gt;&gt;”符号是Python命令行界面的提示符，可按CTRL+D退出，如果是windows环境的话就要按CTRL+Z了。还可以用以下命令退出命令行界面：“import sys；sys.exit()”。如果是windows系统，可到<a href="http://www.python.org/download/" target="_blank" rel="noopener">http://www.python.org/download/</a>下载最新的安装程序进行安装。安装完成后直接打python也可进入命令行界面。命令行是python最简单直观，也是最方便的一种执行环境，我们可以在这里学习python语法和调试程序。如果要打印”hello world”可以输入以下命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">print</span> <span class="string">"hello world"</span></span></span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>
</li>
<li><p>以模块文件方式运行。模块文件是包含python语句的文本，以.py结尾。运行模块文件只要输入python xxx.py就可以了。</p>
</li>
<li><p>以linux脚本方式运行。和shell脚本差不多，以vi或其它文本编辑器输入以下内容:</p>
<figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/local/bin/python</span></span><br><span class="line">print <span class="string">"test ............"</span></span><br></pre></td></tr></table></figure>
<p>存盘后，把文件属性改为可执行，就可象shell脚本一样执行了。</p>
</li>
<li><p><strong>Table 1.1. Python命令行选项</strong></p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">|<span class="string"> 选项 </span>|<span class="string"> 作用 </span>|</span><br><span class="line">|<span class="string"> --- </span>|<span class="string"> --- </span>|</span><br><span class="line">|<span class="string"> -c cmd </span>|<span class="string"> 在命令行直接执行python代码。如python -c 'print "hello world"'。 </span>|</span><br><span class="line">|<span class="string"> -d </span>|<span class="string"> 脚本编译后从解释器产生调试信息。同PYTHONDEBUG=1。 </span>|</span><br><span class="line">|<span class="string"> -E </span>|<span class="string"> 忽略环境变量。 </span>|</span><br><span class="line">|<span class="string"> -h </span>|<span class="string"> 显示python命令行选项帮助信息。 </span>|</span><br><span class="line">|<span class="string"> -i </span>|<span class="string"> 脚本执行后马上进入交互命令行模式。同PYTHONINSPECT=1。 </span>|</span><br><span class="line">|<span class="string"> -O </span>|<span class="string"> 在执行前对解释器产生的字节码进行优化。同 PYTHONOPTIMIZE=1。 </span>|</span><br><span class="line">|<span class="string"> -OO </span>|<span class="string"> 在执行前对解释器产生的字节码进行优化，并删除优化代码中的嵌入式文档字符串。 </span>|</span><br><span class="line">|<span class="string"> -Q arg </span>|<span class="string"> 除法规则选项，-Qold(default)，-Qwarn，-Qwarnall，-Qnew。 </span>|</span><br><span class="line">|<span class="string"> -S </span>|<span class="string"> 解释器不自动导入site.py模块。 </span>|</span><br><span class="line">|<span class="string"> -t </span>|<span class="string"> 当脚本的tab缩排格式不一致时产生警告。 </span>|</span><br><span class="line">|<span class="string"> -u </span>|<span class="string"> 不缓冲stdin、stdout和stderr，默认是缓冲的。同PYTHONUNBUFFERED=1。 </span>|</span><br><span class="line">|<span class="string"> -v </span>|<span class="string"> 产生每个模块的信息。如果两个-v选项，则产生更详细的信息。同PYTHONVERBOSE=x。 </span>|</span><br><span class="line">|<span class="string"> -V </span>|<span class="string"> 显示Python的版本信息。 </span>|</span><br><span class="line">|<span class="string"> -W arg </span>|<span class="string"> 出错信息控制。(arg is action:message:category:module:lineno) </span>|</span><br><span class="line">|<span class="string"> -x </span>|<span class="string"> 忽略源文件的首行。要在多平台上执行脚本时有用。 </span>|</span><br><span class="line">|<span class="string"> file </span>|<span class="string"> 执行file里的代码。 </span>|</span><br><span class="line">|<span class="string"> - </span>|<span class="string"> 从stdin里读取执行代码。 </span>|</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Chapter-2-Python编程习惯与特点"><a href="#Chapter-2-Python编程习惯与特点" class="headerlink" title="Chapter 2. Python编程习惯与特点"></a>Chapter 2. Python编程习惯与特点</h2><h2 id="2-1-代码风格"><a href="#2-1-代码风格" class="headerlink" title="2.1. 代码风格"></a>2.1. 代码风格</h2><ul>
<li><p>在Python中，每行程序以换行符代表结束，如果一行程序太长的话，可以用“\”符号扩展到下一行。在python中以三引号(“””)括起来的字符串，列表，元组和字典都能跨行使用。并且以小括号(…)、中括号[…]和大括号{…}包围的代码不用加“\”符也可扩展到多行。如：</p>
</li>
<li><p>在Python中是以缩进来区分程序功能块的，缩进的长度不受限制，但就一个功能块来讲，最好保持一致的缩进量。</p>
</li>
<li><p>如果一行中有多条语句，语句间要以分号（;）分隔。</p>
</li>
<li><p>以“#”号开头的内容为注释，python解释器会忽略该行内容。</p>
</li>
<li><p>在python中，所有标识符可以包括英文、数字以及下划线（_），但不能以数字开头。python中的标识符是区分大小写的。</p>
</li>
<li><p>以下划线开头的标识符是有特殊意义的。以单下划线开头（_foo）的代表不能直接访问的类属性，需通过类提供的接口进行访问，不能用“from xxx import *”而导入；以双下划线开头的（__foo）代表类的私有成员；以双下划线开头和结尾的（__foo__）代表python里特殊方法专用的标识，如__init__（）代表类的构造函数。</p>
</li>
<li><p>在交互模式下运行python时，一个下划线字符(_)是特殊标识符，它保留了表达式的最后一个计算结果。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">"hello"</span></span><br><span class="line"><span class="string">'hello'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="number">_</span></span><br><span class="line"><span class="string">'hello'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="number">10</span>+<span class="number">10</span></span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="number">_</span></span><br><span class="line"><span class="number">20</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在python中，函数、类、模块定义的第一段代码如果是字符串的话，就把它叫作文件字串，可通过__doc__属性访问。如:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line"><span class="string">"this is a document string"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">100</span>+<span class="number">1000</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;print test.__doc_<span class="number">_</span></span><br><span class="line">this is a document string</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2-2-保留字"><a href="#2-2-保留字" class="headerlink" title="2.2. 保留字"></a>2.2. 保留字</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">and</span>		elif		<span class="built_in">global</span>		<span class="keyword">or</span>          <span class="keyword">yield</span></span><br><span class="line">assert		<span class="keyword">else</span>		<span class="keyword">if</span>		pass</span><br><span class="line"><span class="keyword">break</span>		except		<span class="keyword">import</span>		<span class="built_in">print</span></span><br><span class="line"><span class="class"><span class="keyword">class</span>		<span class="title">exec</span>		<span class="title">in</span>		<span class="title">raise</span></span></span><br><span class="line"><span class="keyword">continue</span>	<span class="keyword">finally</span>		<span class="keyword">is</span>		<span class="keyword">return</span></span><br><span class="line">def		<span class="keyword">for</span>		lambda		<span class="keyword">try</span></span><br><span class="line">del		<span class="keyword">from</span>		<span class="keyword">not</span>		<span class="keyword">while</span></span><br></pre></td></tr></table></figure>
<h2 id="2-3-Python运算符和表达式"><a href="#2-3-Python运算符和表达式" class="headerlink" title="2.3. Python运算符和表达式"></a>2.3. Python运算符和表达式</h2><h3 id="2-3-1-Python运算符"><a href="#2-3-1-Python运算符" class="headerlink" title="2.3.1. Python运算符"></a>2.3.1. Python运算符</h3><p><strong>Table 2.1. Python运算符列表</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>x+y，x-y</td>
<td>加、减，“+”号可重载为连接符</td>
</tr>
<tr>
<td>x*y，x**y，x/y，x%y</td>
<td>相乘、求平方、相除、求余，“*”号可重载为重复，“%”号可重载为格式化</td>
</tr>
<tr>
<td>&lt;，&lt;=，&gt;，&gt;=，==，&lt;&gt;，!=</td>
<td>比较运算符</td>
</tr>
<tr>
<td>+=，-=，*=，/=，%=，**=，&lt;&lt;=，&gt;&gt;=，&amp;=，^=，&#124;=</td>
<td>自变运算符</td>
</tr>
<tr>
<td>x&#124;y</td>
<td>按位或</td>
</tr>
<tr>
<td>x^y</td>
<td>按位异或</td>
</tr>
<tr>
<td>x&amp;y</td>
<td>按位与</td>
</tr>
<tr>
<td>~x</td>
<td>按位取反</td>
</tr>
<tr>
<td>x&lt;&lt;，x&gt;&gt;y</td>
<td>x向左或向右移y位</td>
</tr>
<tr>
<td>is, is not</td>
<td>等同测试</td>
</tr>
<tr>
<td>in, not in</td>
<td>是否为成员测试</td>
</tr>
<tr>
<td>or，and，not</td>
<td>逻辑运算符</td>
</tr>
<tr>
<td>x[i]，x[i:j]，x.y，x(…)</td>
<td>索引，分片，限定引用，函数调用</td>
</tr>
<tr>
<td>(…)，[…]，{…}，’…’</td>
<td>元组，列表，字典，转化为字符串</td>
</tr>
</tbody>
</table>
<h3 id="2-3-2-运算符优先顺序"><a href="#2-3-2-运算符优先顺序" class="headerlink" title="2.3.2. 运算符优先顺序"></a>2.3.2. 运算符优先顺序</h3><p><strong>Table 2.2. 运算符优先顺序列表(从最高到最低)</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘expr’</td>
<td>字符串转换</td>
</tr>
<tr>
<td>{key:expr,…}</td>
<td>字典</td>
</tr>
<tr>
<td>[expr1,expr2…]</td>
<td>列表</td>
</tr>
<tr>
<td>(expr1,expr2,…)</td>
<td>元组</td>
</tr>
<tr>
<td>function(expr,…)</td>
<td>函数调用</td>
</tr>
<tr>
<td>x[index:index]</td>
<td>切片</td>
</tr>
<tr>
<td>x[index]</td>
<td>下标索引取值</td>
</tr>
<tr>
<td>x.attribute</td>
<td>属性引用</td>
</tr>
<tr>
<td>~x</td>
<td>按位取反</td>
</tr>
<tr>
<td>+x，-x</td>
<td>正，负</td>
</tr>
<tr>
<td>x**y</td>
<td>幂</td>
</tr>
<tr>
<td>x*y，x/y，x%y</td>
<td>乘，除，取模</td>
</tr>
<tr>
<td>x+y，x-y</td>
<td>加，减</td>
</tr>
<tr>
<td>x&lt;&lt;y，x&gt;&gt;y</td>
<td>移位</td>
</tr>
<tr>
<td>x&amp;y</td>
<td>按位与</td>
</tr>
<tr>
<td>x^y</td>
<td>按位异或</td>
</tr>
<tr>
<td>x&#124;y</td>
<td>按位或</td>
</tr>
<tr>
<td>x&lt;y，x&lt;=y，x==y，x!=y，x&gt;=y，x&gt;y</td>
<td>比较</td>
</tr>
<tr>
<td>x is y，x is not y</td>
<td>等同测试</td>
</tr>
<tr>
<td>x in y，x not in y</td>
<td>成员判断</td>
</tr>
<tr>
<td>not x</td>
<td>逻辑否</td>
</tr>
<tr>
<td>x and y</td>
<td>逻辑与</td>
</tr>
<tr>
<td>x or y</td>
<td>逻辑或</td>
</tr>
<tr>
<td>lambda arg,…:expr</td>
<td>Lambda匿名函数</td>
</tr>
</tbody>
</table>
<h3 id="2-3-3-真值表"><a href="#2-3-3-真值表" class="headerlink" title="2.3.3. 真值表"></a>2.3.3. 真值表</h3><p><strong>Table 2.3.</strong></p>
<table>
<thead>
<tr>
<th>对象/常量</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>“”</td>
<td>假</td>
</tr>
<tr>
<td>“string”</td>
<td>真</td>
</tr>
<tr>
<td>0</td>
<td>假</td>
</tr>
<tr>
<td>&gt;=1</td>
<td>真</td>
</tr>
<tr>
<td>&lt;=-1</td>
<td>真</td>
</tr>
<tr>
<td>()空元组</td>
<td>假</td>
</tr>
<tr>
<td>[]空列表</td>
<td>假</td>
</tr>
<tr>
<td>{}空字典</td>
<td>假</td>
</tr>
<tr>
<td>None</td>
<td>假</td>
</tr>
</tbody>
</table>
<h3 id="2-3-4-复合表达式"><a href="#2-3-4-复合表达式" class="headerlink" title="2.3.4. 复合表达式"></a>2.3.4. 复合表达式</h3><ul>
<li><p>对于and，当计算a and b时，python会计算a，如果a为假，则取a值，如果a为真，则python会计算b且整个表达式会取b值。如：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span>,b=<span class="number">10</span>,<span class="number">20</span></span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span> and <span class="selector-tag">b</span>   <span class="selector-id">#a</span> is true</span><br><span class="line"><span class="number">20</span></span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span>,b=<span class="number">0</span>,<span class="number">5</span>   <span class="selector-id">#a</span> is false</span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span> and b</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>对于or，当计算a or b时，python会计算a，如果a为真，则整个表达式取a值，如果a为假，表达式将取b值。如：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span>,b=<span class="number">10</span>,<span class="number">20</span></span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span> or b</span><br><span class="line"><span class="number">10</span></span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span>,b=<span class="number">0</span>,<span class="number">5</span></span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span> or b</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>对于not，not将反转表表达式的“实际值”，如果表达式为真，not为返回假，如为表达式为假，not为返回真。如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">not</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">not</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">not</span> <span class="string">"test"</span></span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">not</span> <span class="string">""</span></span><br><span class="line"><span class="keyword">True</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2-4-给变量赋值"><a href="#2-4-给变量赋值" class="headerlink" title="2.4. 给变量赋值"></a>2.4. 给变量赋值</h2><ul>
<li><p>简单赋值，Variable(变量)=Value(值)。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;a=1</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;b=2</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">print</span> a,b</span></span><br><span class="line">1 2</span><br></pre></td></tr></table></figure>
</li>
<li><p>多变量赋值，Variable1,variable2,…=Value1,Value2,…</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;a,b,c=1,2,3</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">print</span> a</span></span><br><span class="line">1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">print</span> b</span></span><br><span class="line">2</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">print</span> c</span></span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p>多变量赋值也可用于变量交换，接上例：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;<span class="selector-tag">a</span>,<span class="selector-tag">b</span>,c=c,<span class="selector-tag">b</span>,a</span><br><span class="line">&gt;&gt;&gt;print a</span><br><span class="line"><span class="number">3</span></span><br><span class="line">&gt;&gt;&gt;print b</span><br><span class="line"><span class="number">2</span></span><br><span class="line">&gt;&gt;&gt;print c</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>多目标赋值，a=b=variable</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; a=b=<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a=<span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>自变赋值，如+=，-=，*=等。在自变赋值中，python仅计算一次，而普通写法需计算两次；自变赋值会修改原始对象，而不是创建一个新对象。</p>
</li>
</ul>
<h2 id="Chapter-3-Python内建对象类型"><a href="#Chapter-3-Python内建对象类型" class="headerlink" title="Chapter 3. Python内建对象类型"></a>Chapter 3. Python内建对象类型</h2><p>在Python中，所有数据都是对象，数据有各种类型，如数值型、列表型、字符串型等。除系统内建的数据类型外，程序员也可以创建自已的数据类型。以下主要介绍Python内建的数据类型。</p>
<h2 id="3-1-Number数值型"><a href="#3-1-Number数值型" class="headerlink" title="3.1. Number数值型"></a>3.1. Number数值型</h2><p>在python中，数值有四种类型，分别是整型、长整形、浮点型和复数。</p>
<ul>
<li><p>整型—从-2147483648至2147483647，有符号位32位长，可表达的最大数为2^31-1。如：number=123，number1=-123。在数字前加0x或0X 前缀表示十六进制数，在数字前加前缀0表示八进制数，与C/C++ and perl一样。</p>
<blockquote>
<p>为方便起见，sys模块包含一个maxint成员，该成员保留了整形变量的最大正数值。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; import sys</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> sys.maxint</span></span><br><span class="line">2147483647</span><br></pre></td></tr></table></figure>
</li>
<li><p>长整型—python支持任意长度的长整型，长整型的最大值和最小值由可用的内存确定。长整型数在数字常量尾加L or l，一般都是用L，因为小写的l太容易与数字1混淆了。如：long=1232132131231232132132131L。</p>
</li>
<li><p>浮点数—python支持普通十进制和科学计数法表示的浮点数。如：number=123.456，nubmer1=123.2E10。浮点数在python中的存储格式与C中的双精度数相同。</p>
</li>
<li><p>复数—复数的实部和虚部用加号分开，虚部使用后缀j表示，如：number=1.2+2j</p>
</li>
</ul>
<h2 id="3-2-String字符串型"><a href="#3-2-String字符串型" class="headerlink" title="3.2. String字符串型"></a>3.2. String字符串型</h2><ul>
<li><p>字符串在python被看成是单个字符的序列，具有序列对象的特殊功能，字符串是固定的，不可变的。如：string=”hello world”。</p>
</li>
<li><p>可在字符串中使用单引号和双引号。如：string=”I’m a boy”。</p>
</li>
<li><p>字符串内部的一个反斜杠“\”可允许把字符串放于多行：如：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">"test \</span></span><br><span class="line"><span class="string">... python"</span></span><br><span class="line"><span class="string">'test python'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用三个单引号或双引号可使字符串跨行显示。如：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">helptext</span>=<span class="string">"""this a help test.if you have any quesions.</span></span><br><span class="line"><span class="string">            please call me anytime.I will help you.I</span></span><br><span class="line"><span class="string">            like python.I hope so as you."""</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用“+”号可连接字符串。如：string = “hello” + “world”，注意，不能将字符串与其它对象进行连接。如string = “ok” + 5。其实不用“+”号，直接用空格也可连接两个字符串。如：string=”hello” “world”。</p>
</li>
<li><p>可用“*”号重复字符串，如：’hello’*5会生成’hellohellohellohellohello’。</p>
</li>
<li><p>可用索引访问字符串中的字符。如：string=”hello world”，print string[1]将显示字符e。</p>
</li>
<li><p>字符串可用in或not in运算符来测试字符是不属于一个字符串的成员。</p>
</li>
<li><p>可对字符串分片，如string=”hello world”,print string[6:]将显示world。分片的格式为：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span>[<span class="built_in">start</span>:<span class="keyword">end</span>]</span><br></pre></td></tr></table></figure>
<p>分片和索引的规则如下：</p>
<ul>
<li><p>返回的字符串包含从start起始到end但不包括end结束的所有字符。</p>
</li>
<li><p>若指定了start但未指定end，则一直向后分片，直至字符串结束。</p>
</li>
<li><p>若指定了end但未指定start，则从0开始分片直至end，但不包括end指定的字符。</p>
</li>
<li><p>若start和end为负数，则索引从字符串尾部开始算起，最后一个字符为-1。</p>
</li>
</ul>
</li>
</ul>
<p>python提供了一个string模块来进行字符串处理。</p>
<h3 id="3-2-1-字符串的格式化"><a href="#3-2-1-字符串的格式化" class="headerlink" title="3.2.1. 字符串的格式化"></a>3.2.1. 字符串的格式化</h3><p>象C 中的sprintf函数一样，可以用“%”来格式化字符串。</p>
<p><strong>Table 3.1. 字符串格式化代码</strong></p>
<table>
<thead>
<tr>
<th>格式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>%%</td>
<td>百分号标记</td>
</tr>
<tr>
<td>%c</td>
<td>字符及其ASCII码</td>
</tr>
<tr>
<td>%s</td>
<td>字符串</td>
</tr>
<tr>
<td>%d</td>
<td>有符号整数(十进制)</td>
</tr>
<tr>
<td>%u</td>
<td>无符号整数(十进制)</td>
</tr>
<tr>
<td>%o</td>
<td>无符号整数(八进制)</td>
</tr>
<tr>
<td>%x</td>
<td>无符号整数(十六进制)</td>
</tr>
<tr>
<td>%X</td>
<td>无符号整数(十六进制大写字符)</td>
</tr>
<tr>
<td>%e</td>
<td>浮点数字(科学计数法)</td>
</tr>
<tr>
<td>%E</td>
<td>浮点数字(科学计数法，用E代替e)</td>
</tr>
<tr>
<td>%f</td>
<td>浮点数字(用小数点符号)</td>
</tr>
<tr>
<td>%g</td>
<td>浮点数字(根据值的大小采用%e或%f)</td>
</tr>
<tr>
<td>%G</td>
<td>浮点数字(类似于%g)</td>
</tr>
<tr>
<td>%p</td>
<td>指针(用十六进制打印值的内存地址)</td>
</tr>
<tr>
<td>%n</td>
<td>存储输出字符的数量放进参数列表的下一个变量中</td>
</tr>
</tbody>
</table>
<blockquote>
<p>%格式化符也可用于字典，可用%(name)引用字典中的元素进行格式化输出。</p>
</blockquote>
<blockquote>
<p>负号指时数字应该是左对齐的，“0”告诉Python用前导0填充数字，正号指时数字总是显示它的正负(+，-)符号，即使数字是正数也不例外。</p>
</blockquote>
<blockquote>
<p>可指定最小的字段宽度，如：”%5d” % 2。也可用句点符指定附加的精度，如：”%.3d” % 3。</p>
</blockquote>
<h3 id="3-2-2-转义字符"><a href="#3-2-2-转义字符" class="headerlink" title="3.2.2. 转义字符"></a>3.2.2. 转义字符</h3><p>在需要在字符中使用特殊字符时，python用反斜杠()转义字符。如下表：</p>
<p><strong>Table 3.2. python支持的转义字符表</strong></p>
<table>
<thead>
<tr>
<th>转义字符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>(在行尾时)</td>
<td>续行符</td>
</tr>
<tr>
<td>\</td>
<td>反斜杠符号</td>
</tr>
<tr>
<td>\’</td>
<td>单引号</td>
</tr>
<tr>
<td>\”</td>
<td>双引号</td>
</tr>
<tr>
<td>\a</td>
<td>响铃</td>
</tr>
<tr>
<td>\b</td>
<td>退格(Backspace)</td>
</tr>
<tr>
<td>\e</td>
<td>转义</td>
</tr>
<tr>
<td>\000</td>
<td>空</td>
</tr>
<tr>
<td>\n</td>
<td>换行</td>
</tr>
<tr>
<td>\v</td>
<td>纵向制表符</td>
</tr>
<tr>
<td>\t</td>
<td>横向制表符</td>
</tr>
<tr>
<td>\r</td>
<td>回车</td>
</tr>
<tr>
<td>\f</td>
<td>换页</td>
</tr>
<tr>
<td>\oyy</td>
<td>八进制数yy代表的字符，例如：\o12代表换行</td>
</tr>
<tr>
<td>\xyy</td>
<td>十进制数yy代表的字符，例如：\x0a代表换行</td>
</tr>
<tr>
<td>\other</td>
<td>其它的字符以普通格式输出</td>
</tr>
</tbody>
</table>
<h3 id="3-2-3-Unicode字符串"><a href="#3-2-3-Unicode字符串" class="headerlink" title="3.2.3. Unicode字符串"></a>3.2.3. Unicode字符串</h3><p>在python2.0中才完全支持Unicode字符串，Unicode字符采用16位(0—65535)值表示，能进行多语言支持。要使用Unicode字符串，只要在字符串前加上“u”即可。如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=<span class="string">u"test"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> a</span><br><span class="line">test</span><br></pre></td></tr></table></figure>
<p>原始Unicode字符串用ur前缀，如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">u'hello world\0020'</span></span><br><span class="line"><span class="string">u'hello world\x020'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">ur'hello world\0020'</span></span><br><span class="line"><span class="string">u'hello world\\0020'</span></span><br></pre></td></tr></table></figure>
<h4 id="3-2-3-1-Unicode转换"><a href="#3-2-3-1-Unicode转换" class="headerlink" title="3.2.3.1. Unicode转换"></a>3.2.3.1. Unicode转换</h4><p>只要和Unicode连接，就会产生Unicode字串。如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'help'</span></span><br><span class="line"><span class="string">'help'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'help，'</span> + <span class="string">u'python'</span>     </span><br><span class="line"><span class="string">u'help，python'</span></span><br></pre></td></tr></table></figure>
<p>对于ASCII(7位)兼容的字串，可和内置的str()函数把Unicode字串转换成ASCII字串。如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>str(<span class="string">u'hello world'</span>)</span><br><span class="line"><span class="string">'hello world'</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>转换非ASCII兼容的字串会出错。编码和译码字符串时的错误引发UnicodeError异常。</p>
</blockquote>
<p>可使用encode()函数转换Unicode字串格式：</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">u'unicode<span class="symbol">\x</span>b1<span class="symbol">\x</span>e0<span class="symbol">\x</span>c2<span class="symbol">\x</span>eb<span class="symbol">\x</span>b2<span class="symbol">\x</span>e2<span class="symbol">\x</span>ca<span class="symbol">\x</span>d4'</span><br><span class="line">&gt;&gt;&gt; a.encode('utf-8')   #转换成utf-8，显示结果会根据终端的字符集支持不同而不同，下面是在GB18030下的显示结果</span><br><span class="line">'unicode<span class="symbol">\x</span>c2<span class="symbol">\x</span>b1<span class="symbol">\x</span>c3<span class="symbol">\x</span>a0<span class="symbol">\x</span>c3<span class="symbol">\x</span>82<span class="symbol">\x</span>c3<span class="symbol">\x</span>ab<span class="symbol">\x</span>c2<span class="symbol">\x</span>b2<span class="symbol">\x</span>c3<span class="symbol">\x</span>a2<span class="symbol">\x</span>c3<span class="symbol">\x</span>8a<span class="symbol">\x</span>c3<span class="symbol">\x</span>94'</span><br></pre></td></tr></table></figure>
<p>可使用unicode()函数把字符串转换成unicode格式，如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=<span class="string">u'unicode测试'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="string">u'unicode\xb2\xe2\xca\xd4'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.encode(<span class="string">'utf-8'</span>)     <span class="comment">#把unicode字串转换成utf-8</span></span><br><span class="line"><span class="string">'unicode\xc2\xb2\xc3\xa2\xc3\x8a\xc3\x94'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=a.encode(<span class="string">'utf-8'</span>)   <span class="comment">#给变量b赋值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="string">'unicode\xc2\xb2\xc3\xa2\xc3\x8a\xc3\x94'</span></span><br><span class="line">&gt;&gt;&gt;unicode(b,<span class="string">'utf-8'</span>)           <span class="comment">#用unicode()函数把utf-8格式字串转换回unicode格式。</span></span><br><span class="line"><span class="string">u'unicode\xb2\xe2\xca\xd4'</span>      <span class="comment">#和原始的这是a相同</span></span><br></pre></td></tr></table></figure>
<p>ord()支持unicode，可以显示特定字符的unicode号码，如：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt;ord(<span class="string">'A'</span>)</span><br><span class="line"><span class="number">65</span></span><br></pre></td></tr></table></figure>
<p>使用unichr()函数可将unicode号码转换回unicode字符，如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>unichr(<span class="number">65</span>)</span><br><span class="line"><span class="string">u'A'</span></span><br></pre></td></tr></table></figure>
<h3 id="3-2-4-原始字符串"><a href="#3-2-4-原始字符串" class="headerlink" title="3.2.4. 原始字符串"></a>3.2.4. 原始字符串</h3><p>有时我们并不想让转义字符生效，我们只想显示字符串原来的意思，这就要用r和R来定义原始字符串。如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> <span class="string">r'\t\r'</span></span><br></pre></td></tr></table></figure>
<p>实际输出为“\t\r”。</p>
<h2 id="3-3-List列表"><a href="#3-3-List列表" class="headerlink" title="3.3. List列表"></a>3.3. List列表</h2><ul>
<li><p>列表是序列对象，可包含任意的Python数据信息，如字符串、数字、列表、元组等。列表的数据是可变的，我们可通过对象方法对列表中的数据进行增加、修改、删除等操作。可以通过list(seq)函数把一个序列类型转换成一个列表。列表的几个例子：</p>
<ul>
<li><p><code>list = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]</code>，这是字符列表。</p>
</li>
<li><p><code>list = [ 1, 2, 3, 4 ]</code>，这是数字列表。</p>
</li>
<li><p><code>list = [ [1,2,3,4], [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;] ]</code>，这是列表的列表。</p>
</li>
<li><p><code>list = [ (1,2,3,4), (&quot;a&quot;,&quot;b&quot;,&quot;c&quot;) ]</code>，这是元组列表。</p>
</li>
<li><p>list((1,2))把一个元组转换成一个列表[1,2]，list(‘test’)可把字符串转换成[‘t’,’e’,’s’,’t’]列表。</p>
</li>
</ul>
</li>
<li><p>访问列表可通过索引来引用，如：list[0]将引用列表的第一个值。list[0:1]返回第一和第二个元素。</p>
</li>
<li><p>用range()和xrange()函数可自动生成列表，具体用法请参考“python参考篇”的内容。</p>
</li>
<li><p>可通过列表综合来创建列表，该功能是在python2.0版本中新增加的。如果想对列表中的每个项进行运算并把结果存储在一个新列表中，可者想创建一个仅包含特定满足某种条件的项，采用该方法是很适合的。如：[x*x for x in range(1,10)]会得到一个X的平方的新列表；我们还可添加if条件控制输出，如：[x*x for x in range(1,10) if x%2==0]；还可在列表中使用多个for语句，如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x+y <span class="keyword">for</span> x <span class="keyword">in</span> <span class="string">"123"</span> <span class="keyword">for</span> y <span class="keyword">in</span> <span class="string">"abc"</span>]</span><br><span class="line">[<span class="string">'1a'</span>, <span class="string">'1b'</span>, <span class="string">'1c'</span>, <span class="string">'2a'</span>, <span class="string">'2b'</span>, <span class="string">'2c'</span>, <span class="string">'3a'</span>, <span class="string">'3b'</span>, <span class="string">'3c'</span>]</span><br></pre></td></tr></table></figure>
<p>x,y值可取列表或元组等，以构成更复杂的结构。</p>
</li>
<li><p>“+”号可连接两个列表。</p>
</li>
<li><p>访问列表的列表(嵌套列表)可用list[1][0]，这将访问嵌套中的第二个列表的第一个元素。</p>
</li>
<li><p>可用数字与列表相乘以复制内容，如：list*2会得到一个[1,2,3,4,1,2,3,4]的列表。注意，不能用列表与列表相乘。</p>
</li>
<li><p>由于列表是可变的，我们可用赋值语句进行操作，如：list[0] = 2。</p>
</li>
<li><p>列表对象方法可对列表进行操作，如列表内容的添加，删除，排序等。如list.sort()可对list列表进行排序。</p>
</li>
</ul>
<pre><code>**Table 3.3\. 列表对象支持的方法**

<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">|<span class="string"> 方法 </span>|<span class="string"> 描述 </span>|</span><br><span class="line">|<span class="string"> --- </span>|<span class="string"> --- </span>|</span><br><span class="line">|<span class="string"> append(x) </span>|<span class="string"> 在列表尾部追加单个对象x。使用多个参数会引起异常。 </span>|</span><br><span class="line">|<span class="string"> count(x) </span>|<span class="string"> 返回对象x在列表中出现的次数。 </span>|</span><br><span class="line">|<span class="string"> extend(L) </span>|<span class="string"> 将列表L中的表项添加到列表中。返回None。 </span>|</span><br><span class="line">|<span class="string"> Index(x) </span>|<span class="string"> 返回列表中匹配对象x的第一个列表项的索引。无匹配元素时产生异常。 </span>|</span><br><span class="line">|<span class="string"> insert(i,x) </span>|<span class="string"> 在索引为i的元素前插入对象x。如list.insert(0,x)在第一项前插入对象。返回None。 </span>|</span><br><span class="line">|<span class="string"> pop(x) </span>|<span class="string"> 删除列表中索引为x的表项，并返回该表项的值。若未指定索引，pop返回列表最后一项。 </span>|</span><br><span class="line">|<span class="string"> remove(x) </span>|<span class="string"> 删除列表中匹配对象x的第一个元素。匹配元素时产生异常。返回None。 </span>|</span><br><span class="line">|<span class="string"> reverse() </span>|<span class="string"> 颠倒列表元素的顺序。 </span>|</span><br><span class="line">|<span class="string"> sort() </span>|<span class="string"> 对列表排序，返回none。bisect模块可用于排序列表项的添加和删除。 </span>|</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="3-4-Tuple元组"><a href="#3-4-Tuple元组" class="headerlink" title="3.4. Tuple元组"></a>3.4. Tuple元组</h2><p>Tuple(元组)和List(列表)很相似，但元组是不可变的。不能对元组中的元素进行添加，修改和删除操作。如果需修改元组内容只有重建元组。元组用小括号来表示。如tuple=(1,2,3)。</p>
<ul>
<li><p>tuple=(1,)，这是单个元素的元组表示，需加额外的逗号。</p>
</li>
<li><p>tuple=1，2，3，4，这也可以是一个元组，在不使用圆括号而不会导致混淆时，Python允许不使用圆括号的元组。</p>
</li>
<li><p>和列表一样，可对元组进行索引、分片、连接和重复。也可用len()求元组长度。</p>
<blockquote>
<p>元组的索引用tuple[i]的形式，而不是tuple(i)。</p>
</blockquote>
</li>
<li><p>和列表类似，使用tuple(seq)可把其它序列类型转换成元组。</p>
</li>
</ul>
<h2 id="3-5-序列对象"><a href="#3-5-序列对象" class="headerlink" title="3.5. 序列对象"></a>3.5. 序列对象</h2><p>上面介绍的字符串、列表和元组的对象类型均属于称为序列的Python对象。它是一种可使用数字化索引进行访问其中元素的对象。</p>
<ul>
<li><p>可用算术运算符联接或重复序列。</p>
</li>
<li><p>比较运算符(&lt;，&lt;=，&gt;，&gt;=，!=，==)也可用于序列。</p>
</li>
<li><p>可通过下标(test[1])，切片(test[1:3])和解包来访问序列的某部份。解包示例如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;s=1,2,3</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;x,y,z=s</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">print</span> x,y,z</span></span><br><span class="line">1,2,3</span><br></pre></td></tr></table></figure>
</li>
<li><p>in运算符可判断当有对象是否序列对象成员，如:</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;<span class="type">list</span> = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">&gt;&gt;&gt;<span class="number">1</span> in <span class="type">list</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">&gt;&gt;&gt;<span class="number">4</span> in <span class="type">list</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>也可通过循环运算符对序列对象进行迭代操作。如:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="built_in">day</span> <span class="keyword">in</span> days:</span><br><span class="line">    print <span class="built_in">day</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>有关序列的处理函数请参考“python参考篇”相关内容，这里就不详细讲了。</p>
<h2 id="3-6-Dictionary字典"><a href="#3-6-Dictionary字典" class="headerlink" title="3.6. Dictionary字典"></a>3.6. Dictionary字典</h2><p>字典是一个用大括号括起来的键值对，字典元素分为两部份，键(key)和值。字典是python中唯一内置映射数据类型。通过指定的键从字典访问值。如：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">monthdays</span> = &#123; <span class="string">"Jan"</span>:<span class="number">31</span>, <span class="string">"Feb"</span>:<span class="number">28</span>, <span class="string">"Mar"</span>:<span class="number">31</span>, <span class="string">"Apr"</span>:<span class="number">30</span>, <span class="string">"May"</span>:<span class="number">31</span>, <span class="string">"Jun"</span>:<span class="number">30</span>, <span class="string">"Jul"</span>:<span class="number">31</span>, <span class="string">"Aug"</span>:<span class="number">31</span>, <span class="string">"Sep"</span>:<span class="number">30</span>, <span class="string">"Oct"</span>:<span class="number">31</span>, <span class="string">"Nov"</span>:<span class="number">30</span>,<span class="string">"Dec"</span>:<span class="number">31</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>字典可嵌套，可以在一个字典里包含另一个字典。如test={“test”:{“mytest”:10} }</p>
</li>
<li><p>可用键访问字典，如monthdays[“Jan”]，可访问值31。如果没有找到指定的键，则解释器会引起异常。</p>
</li>
<li><p>字典是可修改，如monthdays[“Jan”]=30，可把Jan的值由31改为30。如monthdays[“test”]=30可添加一个新键值对。</p>
</li>
<li><p>del monthdays[“test”]可删除字典条目。</p>
</li>
<li><p>字典不属序列对象，所以不能进行连接和相乘操作。字典是没有顺序的。</p>
</li>
<li><p>字典提供keys和values方法，用来返回字典中定义的所有键和值。</p>
</li>
<li><p>和列表一样，字典也提供了对象方法来对字典进行操作。</p>
</li>
</ul>
<pre><code>**Table 3.4\. 字典方法**

<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">|<span class="string"> 方法 </span>|<span class="string"> 描述 </span>|</span><br><span class="line">|<span class="string"> --- </span>|<span class="string"> --- </span>|</span><br><span class="line">|<span class="string"> has_key(x) </span>|<span class="string"> 如果字典中有键x，则返回真。 </span>|</span><br><span class="line">|<span class="string"> keys() </span>|<span class="string"> 返回字典中键的列表 </span>|</span><br><span class="line">|<span class="string"> values() </span>|<span class="string"> 返回字典中值的列表。 </span>|</span><br><span class="line">|<span class="string"> items() </span>|<span class="string"> 返回tuples的列表。每个tuple由字典的键和相应值组成。 </span>|</span><br><span class="line">|<span class="string"> clear() </span>|<span class="string"> 删除字典的所有条目。 </span>|</span><br><span class="line">|<span class="string"> copy() </span>|<span class="string"> 返回字典高层结构的一个拷贝，但不复制嵌入结构，而只复制对那些结构的引用。 </span>|</span><br><span class="line">|<span class="string"> update(x) </span>|<span class="string"> 用字典x中的键值对更新字典内容。 </span>|</span><br><span class="line">|<span class="string"> get(x[,y]) </span>|<span class="string"> 返回键x，若未找到该键返回none，若提供y，则未找到x时返回y。 </span>|</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="3-7-File文件"><a href="#3-7-File文件" class="headerlink" title="3.7. File文件"></a>3.7. File文件</h2><p>可用内置的open()函数对文件进行操作。如：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">input</span> = <span class="keyword">open</span>(<span class="string">"test.txt"</span>)</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">line</span> <span class="keyword">in</span> <span class="keyword">input</span>.readlines():</span><br><span class="line">    <span class="keyword">print</span> <span class="keyword">line</span></span><br><span class="line"><span class="keyword">input</span>.<span class="keyword">close</span>()</span><br></pre></td></tr></table></figure>
<h2 id="3-8-理解引用"><a href="#3-8-理解引用" class="headerlink" title="3.8. 理解引用"></a>3.8. 理解引用</h2><ul>
<li><p>Python把一块数据存储在对象中，变量是对象的唯一引用；它们是计算机内存中特殊地点的名字。所有对象都具有唯一的身份号、类型和值。对象的类型不会改变，对于可变类型而言，它的值是可变的。id(obj)函数可用于检索对象的身份，也就是内存中的对象的地址。</p>
</li>
<li><p>每个对象都包含引用计数器，它记录当前有多少个变量正在引用该对象。当给对象指定一个变量或使对象成为列表或其它包容器的成员时，引用计数就增加；当从包容器中撤消、重新分配或删除对象时，引用计数减少。当引用计数达到0值时(即没有任何变量引用这个对象)，python的回收机制会自动回收它使用的内存。注意，del可用来删除变量，但不能删除对象。</p>
<blockquote>
<p>sys.gettrefcount(obj)函数可返回给定对象的引用计数。</p>
</blockquote>
</li>
</ul>
<h2 id="3-9-copy-and-deepcopy"><a href="#3-9-copy-and-deepcopy" class="headerlink" title="3.9. copy and deepcopy"></a>3.9. copy and deepcopy</h2><p>通过给列表分配一个变量能创建对列表的引用，如果要创建列表的副本就要理解浅副本和深副本的概念。</p>
<ul>
<li><p>列表或其他包容器对象的浅副本(Shallow)能够生成对象本身的副本，但也会创建对由列表包含的对象的引用。可用分片(object[:])和copy模块的copy(obj)函数创建。</p>
</li>
<li><p>列表或其他对象包容器对象的深副本能够生成对象本身的副本，并递归地生成所有子对象的副本。可用copy模块的deepcopy(obj)函数创建。</p>
</li>
</ul>
<p>比较两种副本，一般情况下表现一样，但当列表内包含另一个列表的情况下，父列表的浅副本将包含对子列表引用，而不是独立副本。其结果是，当更改内部列表时，从父列表的两个副本中都可见，如：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b=a[<span class="symbol">:</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a[<span class="number">3</span>].remove(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">5</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">5</span>]]</span><br></pre></td></tr></table></figure>
<p>如果是深副本，就不会出现这种情况。如：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>]]</span><br><span class="line">&gt;&gt;&gt; b=copy.deepcopy(a)</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]]</span><br><span class="line">&gt;&gt;&gt; a[<span class="number">3</span>].remove(<span class="number">4</span>)</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">5</span>]]</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]]</span><br></pre></td></tr></table></figure>
<h2 id="3-10-标识数据类型"><a href="#3-10-标识数据类型" class="headerlink" title="3.10. 标识数据类型"></a>3.10. 标识数据类型</h2><p>可通过type(obj)函数标识数据类型，如：</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="keyword">type</span>(a)</span><br><span class="line">&lt;<span class="keyword">type</span> 'list'&gt;</span><br><span class="line">&gt;&gt;&gt; <span class="keyword">type</span>(copy)</span><br><span class="line">&lt;<span class="keyword">type</span> 'module'&gt;</span><br><span class="line">&gt;&gt;&gt; <span class="keyword">type</span>(1)</span><br><span class="line">&lt;<span class="keyword">type</span> 'int'&gt;</span><br></pre></td></tr></table></figure>
<p>types模块包含Python的内置数据类型的类型对象。如：</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="keyword">import</span> types</span><br><span class="line">&gt;&gt;&gt; types.<span class="type">ListType</span></span><br><span class="line">&lt;<span class="keyword">type</span> 'list'&gt;</span><br><span class="line">&gt;&gt;&gt; types.<span class="type">IntType</span></span><br><span class="line">&lt;<span class="keyword">type</span> 'int'&gt;</span><br></pre></td></tr></table></figure>
<h2 id="3-11-数组对象"><a href="#3-11-数组对象" class="headerlink" title="3.11. 数组对象"></a>3.11. 数组对象</h2><p>数组对象与列表类似，但数组只包含某些类型的简单数据。所以当数据较简单，且要求性能好的情况下，使用数组是一个好的选择。</p>
<p><strong>Table 3.5. 数组类型代码</strong></p>
<table>
<thead>
<tr>
<th>代码</th>
<th>等价的C类型</th>
<th>以字节为单位的最小尺寸</th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>char</td>
<td>1</td>
</tr>
<tr>
<td>b(B)</td>
<td>byte(unsigned byte)</td>
<td>1</td>
</tr>
<tr>
<td>h(H)</td>
<td>short(unsigned short)</td>
<td>2</td>
</tr>
<tr>
<td>i(I)</td>
<td>int(unsigned int)</td>
<td>2</td>
</tr>
<tr>
<td>l(L)</td>
<td>long(unsigned long)</td>
<td>4</td>
</tr>
<tr>
<td>f</td>
<td>float</td>
<td>4</td>
</tr>
<tr>
<td>d</td>
<td>double</td>
<td>8</td>
</tr>
</tbody>
</table>
<p>数组创建方法如下：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; import array</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; z=array.array(<span class="string">"b"</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; z.append(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; z</span><br><span class="line">array(<span class="string">'b'</span>, [<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>数组的itemsize和typecode成员可分别检索数组项的大小和数组对象的类型代码，如：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; z.itemsize</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; z.typecode</span><br><span class="line"><span class="string">'b'</span></span><br></pre></td></tr></table></figure>
<h3 id="3-1-数组类型与其它数据类型的转换"><a href="#3-1-数组类型与其它数据类型的转换" class="headerlink" title="3.1. 数组类型与其它数据类型的转换"></a>3.1. 数组类型与其它数据类型的转换</h3><ul>
<li><p>tolist()方法可把数组转换为列表，如：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; z.tolist()</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<p>fromlist(list)方法可把列表项附加到数组的末尾，如：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; z.fromlist([<span class="number">10</span>,<span class="number">11</span>])</span><br><span class="line">&gt;&gt;&gt; z</span><br><span class="line">array('b', [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">11</span>])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如添加的列表类型与数组类型不同，则fromlist(list)不会把任何项添加到数组对象中。</p>
</blockquote>
</li>
<li><p>tostring()方法，可以把数组转换为字节的序列，如：</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; z.tostring()</span><br><span class="line">'<span class="symbol">\x</span>01<span class="symbol">\x</span>02<span class="symbol">\x</span>03<span class="symbol">\n</span><span class="symbol">\x</span>0b'</span><br></pre></td></tr></table></figure>
<p>fromstring(list)方法刚好与tostring()相反，它获取一个字节串，并把它们转换为数组的值。如：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; z.fromstring(<span class="string">"\x0b"</span>)</span><br><span class="line">&gt;&gt;&gt; z</span><br><span class="line">array('b', [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">11</span>])</span><br></pre></td></tr></table></figure>
</li>
<li><p>tofile(file)方法可把数组转换为字节的序列，并把它们写入文件，如：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; f=open(<span class="string">"aa"</span>,<span class="string">"wb"</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; z.tofile(f)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; f.close()</span><br></pre></td></tr></table></figure>
<p>fromfile(file,count)方法用于从文件对象中读取特定数目的项，并把它们附加到数组中，如：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; z.fromfile(open(<span class="string">"aa"</span>,<span class="string">"rb"</span>),<span class="number">2</span>)</span><br><span class="line">&gt;&gt;&gt; z</span><br><span class="line">array('b', [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<p>当取数项大于文件数据项时，formfile会产生EOFError异常。</p>
</li>
<li><p>数组对象支持列表中的很多相同函数和方法：len，append等。访问成员的方法也可列表一样，可用下标和分片。</p>
</li>
</ul>
<h2 id="Chapter-4-控制语句"><a href="#Chapter-4-控制语句" class="headerlink" title="Chapter 4. 控制语句"></a>Chapter 4. 控制语句</h2><p>流程控制是程序设计中一个重要的内容，Python支持三种不同的控制结构：if，for和while。</p>
<ul>
<li><p>if语句判断表达式是否为真，如果为真则执行指定语句。if语句的格式如下：</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>   EXPRESSIO<span class="symbol">N1</span>:</span><br><span class="line">         STATEME<span class="symbol">NT1</span></span><br><span class="line">elif EXPRESSIO<span class="symbol">N2</span>:</span><br><span class="line">         STATEME<span class="symbol">NT2</span></span><br><span class="line">else:</span><br><span class="line">         STATEME<span class="symbol">NT3</span></span><br></pre></td></tr></table></figure>
<p>如果第一个表达式为真，则执行statement1，否则进行进一步的测试，如果第二个表达式为真则执行statement2，否则执行statement3。</p>
<blockquote>
<p>注意语句的缩进量要保持一致。在python中没有switch和case语句，我们可通过多重elif来达到相同的效果。</p>
</blockquote>
<p>示例：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"></span><br><span class="line">mytest = raw_input(<span class="string">"please input a number:"</span>)</span><br><span class="line">mytest = int(mytest)</span><br><span class="line"><span class="keyword">if</span> mytest == 10:</span><br><span class="line">        <span class="builtin-name">print</span> <span class="string">"you input number is ten."</span></span><br><span class="line">elif mytest == 20:</span><br><span class="line">        <span class="builtin-name">print</span> <span class="string">"you input number is twenty."</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">        <span class="builtin-name">print</span> <span class="string">"another number."</span></span><br></pre></td></tr></table></figure>
<p>脚本的执行效果：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">t03:~# <span class="keyword">python</span> test.<span class="keyword">py</span></span><br><span class="line">please <span class="built_in">input</span> <span class="keyword">a</span> <span class="keyword">number</span>:<span class="number">10</span></span><br><span class="line">you <span class="built_in">input</span> <span class="keyword">number</span> <span class="keyword">is</span> ten.</span><br><span class="line">t03:~# <span class="keyword">python</span> test.<span class="keyword">py</span></span><br><span class="line">please <span class="built_in">input</span> <span class="keyword">a</span> <span class="keyword">number</span>:<span class="number">20</span></span><br><span class="line">you <span class="built_in">input</span> <span class="keyword">number</span> <span class="keyword">is</span> twenty.</span><br><span class="line">t03:~# <span class="keyword">python</span> test.<span class="keyword">py</span></span><br><span class="line">please <span class="built_in">input</span> <span class="keyword">a</span> <span class="keyword">number</span>:<span class="number">777</span></span><br><span class="line">another <span class="keyword">number</span>.</span><br></pre></td></tr></table></figure>
</li>
<li><p>while进行循环控制，它对表达式进行测试，如果为真，则循环执行循环体。格式如下：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="string">EXPRESSION:</span></span><br><span class="line">          STATEMENT</span><br><span class="line"><span class="string">else:</span></span><br><span class="line">          STATEMENT</span><br></pre></td></tr></table></figure>
<p>如果测试为假，则会执行else块。如果循环被中断(break)，则else块不会执行。</p>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">while</span> a &amp;gt; <span class="number">5</span>:</span><br><span class="line"><span class="meta">... </span>    a = a + <span class="number">1</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> a</span><br><span class="line"><span class="meta">... </span><span class="keyword">else</span>:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> <span class="string">"a's value is five"</span></span><br><span class="line">...</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line">a<span class="string">'s value is five</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>for循环可遍历对象，并可进行迭代操作。语名格式如下：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> TARGET <span class="keyword">in</span> OBJECTS：</span><br><span class="line">       STATEMENT</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">       STATEMENT</span><br></pre></td></tr></table></figure>
<p>和while一样，在循环正常退出时，会执行else块。</p>
<p>示例：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; mylist = <span class="string">"for statement"</span></span><br><span class="line">&gt;&gt;&gt; <span class="keyword">for</span> word <span class="keyword">in</span> mylist:</span><br><span class="line">...     <span class="keyword">print</span> <span class="built_in">word</span></span><br><span class="line">... <span class="keyword">else</span>:</span><br><span class="line">...     <span class="keyword">print</span> <span class="string">"End list"</span></span><br><span class="line">...</span><br><span class="line"><span class="built_in">f</span></span><br><span class="line">o</span><br><span class="line"><span class="built_in">r</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">s</span></span><br><span class="line">t</span><br><span class="line">a</span><br><span class="line">t</span><br><span class="line"><span class="built_in">e</span></span><br><span class="line"><span class="built_in">m</span></span><br><span class="line"><span class="built_in">e</span></span><br><span class="line"><span class="keyword">n</span></span><br><span class="line">t</span><br><span class="line">End <span class="keyword">list</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在循环的过程中，我们可使用循环控制语句来控制循环的执行。有三个控制语句，分别是break、continue和pass。它们的作用分别是：</p>
<ul>
<li><p>break语句会立即退出当前循环，不会执行else块的内容。</p>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>mylist = [<span class="string">"zope"</span>,<span class="string">"python"</span>,<span class="string">"perl"</span>,<span class="string">"Linux"</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> technic <span class="keyword">in</span> mylist:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">if</span> technic == <span class="string">"perl"</span>:</span><br><span class="line"><span class="meta">... </span>            <span class="keyword">break</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">else</span>:</span><br><span class="line"><span class="meta">... </span>            <span class="keyword">print</span> technic</span><br><span class="line">...</span><br><span class="line">zope</span><br><span class="line">python</span><br></pre></td></tr></table></figure>
</li>
<li><p>continue语句会忽略后面的语句，强制进入下一次循环。</p>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>mylist = [<span class="string">"zope"</span>,<span class="string">"python"</span>,<span class="string">"perl"</span>,<span class="string">"Linux"</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> technic <span class="keyword">in</span> mylist:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">if</span> technic == <span class="string">"perl"</span>:</span><br><span class="line"><span class="meta">... </span>            <span class="keyword">continue</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">else</span>:</span><br><span class="line"><span class="meta">... </span>            <span class="keyword">print</span> technic</span><br><span class="line">...</span><br><span class="line">zope</span><br><span class="line">python</span><br><span class="line">Linux</span><br></pre></td></tr></table></figure>
</li>
<li><p>pass不做任何事情。</p>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> technic <span class="keyword">in</span> mylist:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">if</span> technic == <span class="string">"perl"</span>:</span><br><span class="line"><span class="meta">... </span>            <span class="keyword">pass</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">else</span>:</span><br><span class="line"><span class="meta">... </span>            <span class="keyword">print</span> technic</span><br><span class="line">...</span><br><span class="line">zope</span><br><span class="line">python</span><br><span class="line">Linux</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="Chapter-5-函数"><a href="#Chapter-5-函数" class="headerlink" title="Chapter 5. 函数"></a>Chapter 5. 函数</h2><p>函数是一个能完成特定功能的代码块，可在程序中重复使用，减少程序的代码量和提高程序的执行效率。在python中函数定义语法如下：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">function_name</span><span class="params">(arg1,arg2[,...])</span></span><span class="symbol">:</span></span><br><span class="line">    statement</span><br><span class="line">[<span class="keyword">return</span> value]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>返回值不是必须的，如果没有return语句，则Python默认返回值None。</p>
</blockquote>
<p>函数名的命名规则：</p>
<ul>
<li><p>函数名必须以下划线或字母开头，可以包含任意字母、数字或下划线的组合。不能使用任何的标点符号；</p>
</li>
<li><p>函数名是区分大小写的。</p>
</li>
<li><p>函数名不能是保留字。</p>
</li>
</ul>
<p>Python使用名称空间的概念存储对象，这个名称空间就是对象作用的区域， 不同对象存在于不同的作用域。下面是不同对象的作用域规则：</p>
<ul>
<li><p>每个模块都有自已的全局作用域。</p>
</li>
<li><p>函数定义的对象属局部作用域，只在函数内有效，不会影响全局作用域中的对象。</p>
</li>
<li><p>赋值对象属局部作用域，除非使用global关键字进行声明。</p>
</li>
</ul>
<p>LGB规则是Python查找名字的规则，下面是LGB规则：</p>
<ul>
<li><p>大多数名字引用在三个作用域中查找：先局部(Local)，次之全局(Global)，再次之内置(Build-in)。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; a=<span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b=<span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(b)</span></span><span class="symbol">:</span></span><br><span class="line">...     test=a*b</span><br><span class="line">...     <span class="keyword">return</span> test</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;print test(<span class="number">10</span>)</span><br><span class="line"><span class="number">20</span></span><br></pre></td></tr></table></figure>
<p>b在局部作用域中找到,a在全局作用域中找到。</p>
</li>
<li><p>如想在局部作用域中改变全局作用域的对象，必须使用global关键字。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#没用global时的情况</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; name=<span class="string">"Jims"</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="function"><span class="keyword">def</span> <span class="title">set</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">...     name=<span class="string">"ringkee"</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; set()</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; print name</span><br><span class="line">Jims</span><br><span class="line"><span class="comment">#使用global后的情况</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; name=<span class="string">"Jims"</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="function"><span class="keyword">def</span> <span class="title">set1</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">...     global name</span><br><span class="line">...     name=<span class="string">"ringkee"</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; set1()</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; print name</span><br><span class="line">ringkee</span><br></pre></td></tr></table></figure>
</li>
<li><p>‘global’声明把赋值的名字映射到一个包含它的模块的作用域中。</p>
</li>
</ul>
<p>函数的参数是函数与外部沟通的桥梁，它可接收外部传递过来的值。参数传递的规则如下：</p>
<ul>
<li><p>在一个函数中对参数名赋值不影响调用者。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; a=<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(a)</span></span><span class="symbol">:</span></span><br><span class="line">...     a=a+<span class="number">1</span></span><br><span class="line">...     print a</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; test(a)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a</span><br><span class="line"><span class="number">1</span>             <span class="comment"># a值不变</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在一个函数中改变一个可变的对象参数会影响调用者。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; a=<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b=[<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(a,b)</span></span><span class="symbol">:</span></span><br><span class="line">...     a=<span class="number">5</span></span><br><span class="line">...     b[<span class="number">0</span>]=<span class="number">4</span></span><br><span class="line">...     print a,b</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; test(a,b)</span><br><span class="line"><span class="number">5</span> [<span class="number">4</span>, <span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b</span><br><span class="line">[<span class="number">4</span>, <span class="number">2</span>]    <span class="comment"># b值已被更改</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>参数是对象指针，无需定义传递的对象类型。如：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(a,b)</span></span><span class="symbol">:</span></span><br><span class="line">...     <span class="keyword">return</span> a+b</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; test(<span class="number">1</span>,<span class="number">2</span>)   <span class="comment">#数值型</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; test(<span class="string">"a"</span>,<span class="string">"b"</span>)   <span class="comment">#字符型</span></span><br><span class="line"><span class="string">'ab'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; test([<span class="number">12</span>],[<span class="number">11</span>])   <span class="comment">#列表</span></span><br><span class="line">[<span class="number">12</span>, <span class="number">11</span>]</span><br></pre></td></tr></table></figure>
<p>函数中的参数接收传递的值，参数可分默认参数，如：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">function</span><span class="params">(ARG=VALUE)</span></span></span><br></pre></td></tr></table></figure>
<p>元组（Tuples）参数：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">function</span><span class="params">(*ARG)</span></span></span><br></pre></td></tr></table></figure>
<p>字典（dictionary）参数：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">function</span><span class="params">(**ARG)</span></span></span><br></pre></td></tr></table></figure>
<p>一些函数规则：</p>
<ul>
<li><p>默认值必须在非默认参数之后；</p>
</li>
<li><p>在单个函数定义中，只能使用一个tuple参数（*ARG）和一个字典参数（**ARG）。</p>
</li>
<li><p>tuple参数必须在连接参数和默认参数之后。</p>
</li>
<li><p>字典参数必须在最后定义。</p>
</li>
</ul>
<h2 id="5-1-常用函数"><a href="#5-1-常用函数" class="headerlink" title="5.1. 常用函数"></a>5.1. 常用函数</h2><ul>
<li><p>abs(x)</p>
<p>abs()返回一个数字的绝对值。如果给出复数，返回值就是该复数的模。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">print</span> abs(-100)</span></span><br><span class="line">100</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">print</span> abs(1+2j)</span></span><br><span class="line">2.2360679775</span><br></pre></td></tr></table></figure>
</li>
<li><p>callable(object)</p>
<p>callable()函数用于测试对象是否可调用，如果可以则返回1(真)；否则返回0(假)。可调用对象包括函数、方法、代码对象、类和已经定义了“调用”方法的类实例。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a=<span class="string">"123"</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> callable(a)</span></span><br><span class="line">0</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> callable(chr)</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>
</li>
<li><p>cmp(x,y)</p>
<p>cmp()函数比较x和y两个对象，并根据比较结果返回一个整数，如果x&lt;y，则返回-1；如果x&gt;y，则返回1,如果x==y则返回0。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;a=1</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;b=2</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;c=2</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> cmp(a,b)</span></span><br><span class="line">-1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> cmp(b,a)</span></span><br><span class="line">1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> cmp(b,c)</span></span><br><span class="line">0</span><br></pre></td></tr></table></figure>
</li>
<li><p>divmod(x,y)</p>
<p>divmod(x,y)函数完成除法运算，返回商和余数。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; divmod(<span class="number">10</span>,<span class="number">3</span>)</span><br><span class="line">(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">&gt;&gt;&gt; divmod(<span class="number">9</span>,<span class="number">3</span>)</span><br><span class="line">(<span class="number">3</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>isinstance(object,class-or-type-or-tuple) -&gt; bool</p>
<p>测试对象类型</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; a=<span class="string">'isinstance test'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b=<span class="number">1234</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; isinstance(a,str)</span><br><span class="line">True</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; isinstance(a,int)</span><br><span class="line">False</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; isinstance(b,str)</span><br><span class="line">False</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; isinstance(b,int)</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
</li>
<li><p>len(object) -&gt; integer</p>
<p>len()函数返回字符串和序列的长度。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; len(<span class="string">"aa"</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; len([<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>pow(x,y[,z])</p>
<p>pow()函数返回以x为底，y为指数的幂。如果给出z值，该函数就计算x的y次幂值被z取模的值。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; print pow(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"><span class="number">16</span></span><br><span class="line">&gt;&gt;&gt; print pow(<span class="number">2</span>,<span class="number">4</span>,<span class="number">2</span>)</span><br><span class="line"><span class="number">0</span></span><br><span class="line">&gt;&gt;&gt; print pow(<span class="number">2.4</span>,<span class="number">3</span>)</span><br><span class="line"><span class="number">13.824</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>range([lower,]stop[,step])</p>
<p>range()函数可按参数生成连续的有序整数列表。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; range(<span class="number">10</span>)</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">&gt;&gt;&gt; range(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">&gt;&gt;&gt; range(<span class="number">1</span>,<span class="number">10</span>,<span class="number">2</span>)</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>round(x[,n])</p>
<p>round()函数返回浮点数x的四舍五入值，如给出n值，则代表舍入到小数点后的位数。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; round(<span class="number">3.333</span>)</span><br><span class="line"><span class="number">3.0</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; round(<span class="number">3</span>)</span><br><span class="line"><span class="number">3.0</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; round(<span class="number">5.9</span>)</span><br><span class="line"><span class="number">6.0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>type(obj)</p>
<p>type()函数可返回对象的数据类型。</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="keyword">type</span>(a)</span><br><span class="line">&lt;<span class="keyword">type</span> 'list'&gt;</span><br><span class="line">&gt;&gt;&gt; <span class="keyword">type</span>(copy)</span><br><span class="line">&lt;<span class="keyword">type</span> 'module'&gt;</span><br><span class="line">&gt;&gt;&gt; <span class="keyword">type</span>(1)</span><br><span class="line">&lt;<span class="keyword">type</span> 'int'&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>xrange([lower,]stop[,step])</p>
<p>xrange()函数与range()类似，但xrnage()并不创建列表，而是返回一个xrange对象，它的行为与列表相似，但是只在需要时才计算列表值，当列表很大时，这个特性能为我们节省内存。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a=xrange(10)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> a[0]</span></span><br><span class="line">0</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> a[1]</span></span><br><span class="line">1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> a[2]</span></span><br><span class="line">2</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="5-2-内置类型转换函数"><a href="#5-2-内置类型转换函数" class="headerlink" title="5.2. 内置类型转换函数"></a>5.2. 内置类型转换函数</h2><ul>
<li><p>chr(i)</p>
<p>chr()函数返回ASCII码对应的字符串。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> chr(65)</span></span><br><span class="line">A</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> chr(66)</span></span><br><span class="line">B</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> chr(65)+chr(66)</span></span><br><span class="line">AB</span><br></pre></td></tr></table></figure>
</li>
<li><p>complex(real[,imaginary])</p>
<p>complex()函数可把字符串或数字转换为复数。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; complex(<span class="string">"2+1j"</span>)</span><br><span class="line">(<span class="number">2</span>+<span class="number">1</span>j)</span><br><span class="line">&gt;&gt;&gt; complex(<span class="string">"2"</span>)</span><br><span class="line">(<span class="number">2</span>+<span class="number">0</span>j)</span><br><span class="line">&gt;&gt;&gt; complex(<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">(<span class="number">2</span>+<span class="number">1</span>j)</span><br><span class="line">&gt;&gt;&gt; complex(<span class="number">2</span>L,<span class="number">1</span>)</span><br><span class="line">(<span class="number">2</span>+<span class="number">1</span>j)</span><br></pre></td></tr></table></figure>
</li>
<li><p>float(x)</p>
<p>float()函数把一个数字或字符串转换成浮点数。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">float</span>(<span class="string">"12"</span>)</span></span><br><span class="line">12.0</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">float</span>(12L)</span></span><br><span class="line">12.0</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">float</span>(12.2)</span></span><br><span class="line">12.199999999999999</span><br></pre></td></tr></table></figure>
</li>
<li><p>hex(x)</p>
<p>hex()函数可把整数转换成十六进制数。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; hex(<span class="number">16</span>)</span><br><span class="line"><span class="string">'0x10'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; hex(<span class="number">123</span>)</span><br><span class="line"><span class="string">'0x7b'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>long(x[,base])</p>
<p>long()函数把数字和字符串转换成长整数，base为可选的基数。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; long(<span class="string">"123"</span>)</span><br><span class="line"><span class="number">123</span>L</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; long(<span class="number">11</span>)</span><br><span class="line"><span class="number">11</span>L</span><br></pre></td></tr></table></figure>
</li>
<li><p>list(x)</p>
<p>list()函数可将序列对象转换成列表。如：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; list(<span class="string">"hello world"</span>)</span><br><span class="line">[<span class="string">'h'</span>, <span class="string">'e'</span>, <span class="string">'l'</span>, <span class="string">'l'</span>, <span class="string">'o'</span>, <span class="string">' '</span>, <span class="string">'w'</span>, <span class="string">'o'</span>, <span class="string">'r'</span>, <span class="string">'l'</span>, <span class="string">'d'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; list((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>int(x[,base])</p>
<p>int()函数把数字和字符串转换成一个整数，base为可选的基数。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; int(<span class="number">3.3</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; int(<span class="number">3</span>L)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; int(<span class="string">"13"</span>)</span><br><span class="line"><span class="number">13</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; int(<span class="string">"14"</span>,<span class="number">15</span>)</span><br><span class="line"><span class="number">19</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>min(x[,y,z…])</p>
<p>min()函数返回给定参数的最小值，参数可以为序列。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; min(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line">&gt;&gt;&gt; min((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>max(x[,y,z…])</p>
<p>max()函数返回给定参数的最大值，参数可以为序列。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; max(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="number">4</span></span><br><span class="line">&gt;&gt;&gt; max((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>oct(x)</p>
<p>oct()函数可把给出的整数转换成八进制数。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; oct(<span class="number">8</span>)</span><br><span class="line"><span class="string">'010'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; oct(<span class="number">123</span>)</span><br><span class="line"><span class="string">'0173'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ord(x)</p>
<p>ord()函数返回一个字符串参数的ASCII码或Unicode值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">"a"</span>)</span><br><span class="line"><span class="number">97</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">u"a"</span>)</span><br><span class="line"><span class="number">97</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>str(obj)</p>
<p>str()函数把对象转换成可打印字符串。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; str(<span class="string">"4"</span>)</span><br><span class="line"><span class="string">'4'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; str(<span class="number">4</span>)</span><br><span class="line"><span class="string">'4'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; str(<span class="number">3</span>+<span class="number">2</span>j)</span><br><span class="line"><span class="string">'(3+2j)'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>tuple(x)</p>
<p>tuple()函数把序列对象转换成tuple。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; tuple(<span class="string">"hello world"</span>)</span><br><span class="line">(<span class="string">'h'</span>, <span class="string">'e'</span>, <span class="string">'l'</span>, <span class="string">'l'</span>, <span class="string">'o'</span>, <span class="string">' '</span>, <span class="string">'w'</span>, <span class="string">'o'</span>, <span class="string">'r'</span>, <span class="string">'l'</span>, <span class="string">'d'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; tuple([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="5-3-序列处理函数"><a href="#5-3-序列处理函数" class="headerlink" title="5.3. 序列处理函数"></a>5.3. 序列处理函数</h2><ul>
<li><p>常用函数中的len()、max()和min()同样可用于序列。</p>
</li>
<li><p>filter(function,list)</p>
<p>调用filter()时，它会把一个函数应用于序列中的每个项，并返回该函数返回真值时的所有项，从而过滤掉返回假值的所有项。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="function"><span class="keyword">def</span> <span class="title">nobad</span><span class="params">(s)</span></span><span class="symbol">:</span></span><br><span class="line">...     <span class="keyword">return</span> s.find(<span class="string">"bad"</span>) == -<span class="number">1</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; s = [<span class="string">"bad"</span>,<span class="string">"good"</span>,<span class="string">"bade"</span>,<span class="string">"we"</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; filter(nobad,s)</span><br><span class="line">[<span class="string">'good'</span>, <span class="string">'we'</span>]</span><br></pre></td></tr></table></figure>
<p>这个例子通过把nobad()函数应用于s序列中所有项，过滤掉所有包含“bad”的项。</p>
</li>
<li><p>map(function,list[,list])</p>
<p>map()函数把一个函数应用于序列中所有项，并返回一个列表。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; import string</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; s=[<span class="string">"python"</span>,<span class="string">"zope"</span>,<span class="string">"linux"</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; map(string.capitalize,s)</span><br><span class="line">[<span class="string">'Python'</span>, <span class="string">'Zope'</span>, <span class="string">'Linux'</span>]</span><br></pre></td></tr></table></figure>
<p>map()还可同时应用于多个列表。如：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import operator</span><br><span class="line">&gt;&gt;&gt; s=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; t=[<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">&gt;&gt;&gt; map(operator.mul,s,t)   # s[i]*t[j]</span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<p>如果传递一个None值，而不是一个函数，则map()会把每个序列中的相应元素合并起来，并返回该元组。如：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a=[<span class="number">1</span>,<span class="number">2</span>];b=[<span class="number">3</span>,<span class="number">4</span>];c=[<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">&gt;&gt;&gt; map(None,a,b,c)</span><br><span class="line">[(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>), (<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>)]</span><br></pre></td></tr></table></figure>
</li>
<li><p>reduce(function,seq[,init])</p>
<p>reduce()函数获得序列中前两个项，并把它传递给提供的函数，获得结果后再取序列中的下一项，连同结果再传递给函数，以此类推，直到处理完所有项为止。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import operator</span><br><span class="line">&gt;&gt;&gt; reduce(operator.mul,[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])  # ((<span class="number">2</span>*<span class="number">3</span>)*<span class="number">4</span>)*<span class="number">5</span></span><br><span class="line"><span class="number">120</span></span><br><span class="line">&gt;&gt;&gt; reduce(operator.mul,[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],<span class="number">1</span>) # (((<span class="number">1</span>*<span class="number">2</span>)*<span class="number">3</span>)*<span class="number">4</span>)*<span class="number">5</span></span><br><span class="line"><span class="number">120</span></span><br><span class="line">&gt;&gt;&gt; reduce(operator.mul,[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],<span class="number">2</span>)  # (((<span class="number">2</span>*<span class="number">2</span>)*<span class="number">3</span>)*<span class="number">4</span>)*<span class="number">5</span></span><br><span class="line"><span class="number">240</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>zip(seq[,seq,…])</p>
<p>zip()函数可把两个或多个序列中的相应项合并在一起，并以元组的格式返回它们，在处理完最短序列中的所有项后就停止。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; zip([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>])</span><br><span class="line">[(<span class="number">1</span>, <span class="number">4</span>, <span class="number">7</span>), (<span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>)]</span><br></pre></td></tr></table></figure>
<p>如果参数是一个序列，则zip()会以一元组的格式返回每个项，如：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; zip((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line">[(<span class="number">1</span>,), (<span class="number">2</span>,), (<span class="number">3</span>,), (<span class="number">4</span>,), (<span class="number">5</span>,)]</span><br><span class="line">&gt;&gt;&gt; zip([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">[(<span class="number">1</span>,), (<span class="number">2</span>,), (<span class="number">3</span>,), (<span class="number">4</span>,), (<span class="number">5</span>,)]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Chapter-6-模块"><a href="#Chapter-6-模块" class="headerlink" title="Chapter 6. 模块"></a>Chapter 6. 模块</h2><p>模块可把一个复杂的程序按功能分开，分别存放到不同文件中，使程序更容易维护和管理。在Python中的模块是一个以.py结尾的Python代码文件。可通过import命令输入，如：</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br></pre></td></tr></table></figure>
<p>import会完成以下三个操作：</p>
<ul>
<li><p>创建新的名称空间（namespace），该名称空间中拥有输入模块中定义的所有对象；</p>
</li>
<li><p>执行模块中的代码；</p>
</li>
<li><p>创建该名称空间的变量名。</p>
</li>
</ul>
<p>import语句可同时输入多个模块，如：</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os,sys,<span class="keyword">system</span></span><br></pre></td></tr></table></figure>
<p>也可写成：</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> system</span><br></pre></td></tr></table></figure>
<p>有些模块的名称很长，我们可在输入时给它起个简单的别名，这样在使用模块中的对象就方便很多，如：</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ftplib <span class="keyword">as</span> ftp</span><br></pre></td></tr></table></figure>
<p>有时我们可能只想使用模块中某个对象，又不想把整个模块输入，则可以用from…import语句输入特定对象。如：</p>
<figure class="highlight capnproto"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ftplib <span class="keyword">import</span> FTP</span><br></pre></td></tr></table></figure>
<p>这样，我们就可直接使用FTP()，而不用带前缀。</p>
<p>如果装载模块出错，会引发ImportError异常。我们可捕获该异常进行相应处理。</p>
<p>Python脚本和模块都是一个以.py结束的文件，那程序是如何判断一个.py文件是作为脚本还是模块呢？关键是一个名为__name__的变量，如果它的值是__main__，则不能作为模块，只能作为脚本直接运行。所以在很多脚本的最后都有一段类似下面的语句，限制只能以脚本方式运行，不作为模块：</p>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="variable">__name__</span> == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>几个功能相近的模块我们可组成一个Python包，存放到一个目录结构中，通过输入包的路径来调用对象。要定义包，就要建一个与包名同名的目录，接着在该目录下创建__init__.py文件。该文件是包的初始化文件，可以为空，也可定义一个代码。例如一个WebDesign包的目录如下：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/WebDesign</span><br><span class="line">        __init_.py</span><br><span class="line">        design.py</span><br><span class="line">        draw.py</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure>
<p>我们可通过以下语句输入design模块：</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> WebDesign.design</span><br></pre></td></tr></table></figure>
<h2 id="6-1-String模块"><a href="#6-1-String模块" class="headerlink" title="6.1. String模块"></a>6.1. String模块</h2><ul>
<li><p>replace(string,old,new[,maxsplit])</p>
<p>字符串的替换函数，把字符串中的old替换成new。默认是把string中所有的old值替换成new值，如果给出maxsplit值，还可控制替换的个数，如果maxsplit为1，则只替换第一个old值。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;a=<span class="string">"11223344"</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">print</span> string.replace(a,<span class="string">"1"</span>,<span class="string">"one"</span>)</span></span><br><span class="line">oneone2223344</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">print</span> string.replace(a,<span class="string">"1"</span>,<span class="string">"one"</span>,1)</span></span><br><span class="line">one12223344</span><br></pre></td></tr></table></figure>
</li>
<li><p>capitalize(string)</p>
<p>该函数可把字符串的首个字符替换成大字。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; import string</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> string.capitalize(<span class="string">"python"</span>)</span></span><br><span class="line">Python</span><br></pre></td></tr></table></figure>
</li>
<li><p>split(string,sep=None,maxsplit=-1)</p>
<p>从string字符串中返回一个列表，以sep的值为分界符。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; import string</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; ip=<span class="string">"192.168.3.3"</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; ip_list=string.split(ip,<span class="string">'.'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; print ip_list</span><br><span class="line">[<span class="string">'192'</span>, <span class="string">'168'</span>, <span class="string">'3'</span>, <span class="string">'3'</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>join(string[,sep])</p>
<p>返回用sep连接的字串，默认的sep是空格。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; import string</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b = string.join(a,<span class="string">'-'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b</span><br><span class="line"><span class="string">'a-b-c'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="6-2-time模块"><a href="#6-2-time模块" class="headerlink" title="6.2. time模块"></a>6.2. time模块</h2><p>内置模块time包含很多与时间相关函数。我们可通过它获得当前的时间和格式化时间输出。</p>
<ul>
<li><p>time()，以浮点形式返回自Linux新世纪以来经过的秒数。在linux中，00:00:00 UTC, January 1, 1970是新纪元的开始。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; time.time()</span><br><span class="line"><span class="number">1150269086.6630149</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; time.ctime(<span class="number">1150269086.6630149</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'Wed Jun 14 15:11:26 2006'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ctime([sec])，把秒数转换成日期格式，如果不带参数，则显示当前的时间。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; import time</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; time.ctime()</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'Wed Jun 14 15:02:50 2006'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; time.ctime(<span class="number">1138068452427683</span>)</span><br><span class="line"><span class="string">'Sat Dec 14 04:51:44 1901'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>sleep(secs)，定时。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; time.sleep(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;                <span class="comment">#10秒后才会出现&gt;&gt;&gt;提示符</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Chapter-7-类"><a href="#Chapter-7-类" class="headerlink" title="Chapter 7. 类"></a>Chapter 7. 类</h2><p>类是面向对象编程的一个重要概念。通过类的创建和继承，可重用代码，减少代码复杂度。Python是一种面向对象的脚本语言，用class语句可创建类，语法规则如下：</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> classnmae([class_parent,...]):</span><br><span class="line">      ...</span><br><span class="line">      def <span class="function"><span class="keyword">method</span><span class="params">()</span>:</span></span><br><span class="line">          ...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>一个例子：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">#-*- encoding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span>:                              <span class="comment">#定义一个test类</span></span></span><br><span class="line">        desc = <span class="string">"这是一个测试类。"</span>        <span class="comment">#在类中定义一个属性desc</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>,name1)</span></span>:        <span class="comment">#对象构造函数，初始化类</span></span><br><span class="line">                <span class="keyword">self</span>.name1 = name1</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(<span class="keyword">self</span>,name2)</span></span>:            <span class="comment">#在类中定义一个方法show()</span></span><br><span class="line">                print <span class="string">"hello world"</span></span><br><span class="line">                print <span class="string">'name1:'</span>,<span class="keyword">self</span>.name1</span><br><span class="line">                print <span class="string">'name2:'</span>,name2</span><br><span class="line"></span><br><span class="line">instance = test(<span class="string">'这是传递给name1的值'</span>)   <span class="comment">#生成test类的实例对象instance</span></span><br><span class="line"></span><br><span class="line">print instance.desc                      <span class="comment">#调用类中的desc属性</span></span><br><span class="line"></span><br><span class="line">instance.show(<span class="string">'这是传递给name2的值'</span>)     <span class="comment">#调用类中的show()方法</span></span><br></pre></td></tr></table></figure>
<p>把该脚本命名为test.py，并用chmod +x test.py使脚本有执行的权限 ，运行该脚本结果如下：</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">debian:</span>~/python<span class="meta"># ./test.py</span></span><br><span class="line">这是一个测试类。</span><br><span class="line">hello world</span><br><span class="line"><span class="symbol">name1:</span> 这是传递给name1的值</span><br><span class="line"><span class="symbol">name2:</span> 这是传递给name2的值</span><br></pre></td></tr></table></figure>
<p>这里只是Python语言中类的一个简单介绍。详细介绍可参考网站上自由文档栏目中的Python资料。</p>
<h2 id="Chapter-8-异常处理"><a href="#Chapter-8-异常处理" class="headerlink" title="Chapter 8. 异常处理"></a>Chapter 8. 异常处理</h2><p>Python的异常处理能力是很强大的，可向用户准确反馈出错信息。在Python中，异常也是对象，可对它进行操作。所有异常都是基类Exception的成员。异常处理的try语法有两种，一种是：</p>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">   <span class="keyword">block</span></span><br><span class="line"><span class="keyword">except</span> [exception,[data...]]:</span><br><span class="line">   <span class="keyword">block</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   <span class="keyword">block</span></span><br></pre></td></tr></table></figure>
<p>该种异常处理语法的规则是：</p>
<ul>
<li><p>执行try下的语句，如果引发异常，则执行过程会跳到第一个except语句。</p>
</li>
<li><p>如果第一个except中定义的异常与引发的异常匹配，则执行该except中的语句。</p>
</li>
<li><p>如果引发的异常不匹配第一个except，则会搜索第二个except，允许编写的except数量没有限制。</p>
</li>
<li><p>如果所有的except都不匹配，则异常会传递到下一个调用本代码的最高层try代码中。</p>
</li>
<li><p>如果没有发生异常，则执行else块代码。</p>
</li>
</ul>
<p>try语句的第二种语法是：</p>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">   <span class="keyword">block</span></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">   <span class="keyword">block</span></span><br></pre></td></tr></table></figure>
<p>该语句的执行规则是：</p>
<ul>
<li><p>执行try下的代码。</p>
</li>
<li><p>如果发生异常，在该异常传递到下一级try时，执行finally中的代码。</p>
</li>
<li><p>如果没有发生异常，则执行finally中的代码。</p>
</li>
</ul>
<p>第二种try语法在无论有没有发生异常都要执行代码的情况下是很有用的。例如我们在python中打开一个文件进行读写操作，我在操作过程中不管是否出现异常，最终我都是要把该文件关闭的。</p>
<p>除了系统引发的异常外，我们还可用raise语句手工引发一个异常：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">raise</span> [<span class="keyword">exception</span>[,data]]</span><br></pre></td></tr></table></figure>
<h2 id="Chapter-9-文件处理"><a href="#Chapter-9-文件处理" class="headerlink" title="Chapter 9. 文件处理"></a>Chapter 9. 文件处理</h2><p>文件是我们储存信息的地方，我们经常要对文件进行读、写、删除等的操作，在Python中，我们可用Python提供的函数和方法方便地操作文件。</p>
<h2 id="9-1-文件处理的函数和方法"><a href="#9-1-文件处理的函数和方法" class="headerlink" title="9.1. 文件处理的函数和方法"></a>9.1. 文件处理的函数和方法</h2><p>使用Open()函数可打开文件，语法格式如下：</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_handler = <span class="keyword">open</span>(filename,<span class="comment">[,mode<span class="comment">[,bufsize]</span>]</span></span><br></pre></td></tr></table></figure>
<p>filename是你要操作的文件名，如果不在当前路径，需指出具体路径。mode是打开文件的模式，表示你要如何操作文件，bufsize表示是否使用缓存。</p>
<p><strong>Table 9.1. mode</strong></p>
<table>
<thead>
<tr>
<th>模式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>以读方式打开文件，可读取文件信息。</td>
</tr>
<tr>
<td>w</td>
<td>以写方式打开文件，可向文件写入信息。</td>
</tr>
<tr>
<td>a</td>
<td>以追加方式打开文件，文件指针自动移到文件尾。</td>
</tr>
<tr>
<td>r+</td>
<td>以读写方式打开文件，可对文件进行读和写操作。</td>
</tr>
<tr>
<td>w+</td>
<td>消除文件内容，然后以读写方式打开文件。</td>
</tr>
<tr>
<td>a+</td>
<td>以读写方式打开文件，并把文件指针移到文件尾。</td>
</tr>
<tr>
<td>b</td>
<td>以二进制模式打开文件，而不是以文本模式。该模式只对Windows或Dos有效，类Unix的文件是用二进制模式进行操作的。</td>
</tr>
</tbody>
</table>
<p><strong>Table 9.2. bufsize</strong></p>
<table>
<thead>
<tr>
<th>bufsize取值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>禁用缓冲</td>
</tr>
<tr>
<td>1</td>
<td>行缓冲</td>
</tr>
<tr>
<td>&gt;1</td>
<td>指定缓冲区的大小</td>
</tr>
<tr>
<td>&lt;1</td>
<td>系统默认的缓冲区大小</td>
</tr>
</tbody>
</table>
<p>open()函数返回一个文件对象，我们可通过read()或write()函数对文件进行读写操作，下面是一些文件对象方法：</p>
<p><strong>Table 9.3. 文件对象方法</strong></p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>f.close()</td>
<td>关闭文件，记住用open()打开文件后一定要记得关闭它，否则会占用系统的可打开文件句柄数。</td>
</tr>
<tr>
<td>f.fileno()</td>
<td>获得文件描述符</td>
</tr>
<tr>
<td>f.flush()</td>
<td>刷新输出缓存</td>
</tr>
<tr>
<td>f.isatty()</td>
<td>如果文件是一个交互终端，则返回True，否则返回False。</td>
</tr>
<tr>
<td>f.read([count])</td>
<td>读出文件，如果有count，则读出count个字节。</td>
</tr>
<tr>
<td>f.readline()</td>
<td>读出一行信息。</td>
</tr>
<tr>
<td>f.readlines()</td>
<td>读出所有行，也就是读出整个文件的信息。</td>
</tr>
<tr>
<td>f.seek(offset[,where])</td>
<td>把文件指针移动到相对于where的offset位置。offset为0表示文件开始处，这是默认值 ；1表示当前位置；2表示文件结尾。</td>
</tr>
<tr>
<td>f.tell()</td>
<td>获得文件指针位置。</td>
</tr>
<tr>
<td>f.truncate([size])</td>
<td>截取文件，使文件的大小为size。</td>
</tr>
<tr>
<td>f.write(string)</td>
<td>把string字符串写入文件。</td>
</tr>
<tr>
<td>f.writelines(list)</td>
<td>把list中的字符串一行一行地写入文件。</td>
</tr>
</tbody>
</table>
<h2 id="9-2-示例"><a href="#9-2-示例" class="headerlink" title="9.2. 示例"></a>9.2. 示例</h2><ul>
<li><p>文件的打开或创建</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment">#-*- encoding:UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line">filehandler = <span class="built_in">open</span>(<span class="string">'test.txt'</span>,<span class="string">'w'</span>)               <span class="comment">#以写模式打开文件，如果文件不存在则创建</span></span><br><span class="line">filehandler.<span class="built_in">write</span>(<span class="string">'this is a file open/create test.\nthe second line.'</span>)</span><br><span class="line"></span><br><span class="line">filehandler.<span class="built_in">close</span>()</span><br></pre></td></tr></table></figure>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment">#-*- encoding:UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line">filehandler = <span class="built_in">open</span>(<span class="string">'test.txt'</span>,<span class="string">'a'</span>)      <span class="comment">#以追加模式打开文件，如果文件不存在则创建</span></span><br><span class="line"></span><br><span class="line">filehandler.<span class="built_in">write</span>(<span class="string">'\nappend the text in another line.\n'</span>)</span><br><span class="line"></span><br><span class="line">filehandler.<span class="built_in">close</span>()</span><br></pre></td></tr></table></figure>
</li>
<li><p>读取文件</p>
<figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env python</span></span><br><span class="line"><span class="meta">#-*- encoding:UTF<span class="number">-8</span> -*-</span></span><br><span class="line"></span><br><span class="line">filehandler = open(<span class="string">'test.txt'</span>,<span class="string">'r'</span>)    <span class="meta">#以读方式打开文件，rb为二进制方式(如图片或可执行文件等)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">'read() function:'</span>              <span class="meta">#读取整个文件</span></span><br><span class="line"><span class="keyword">print</span> filehandler.read()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">'readline() function:'</span>          <span class="meta">#返回文件头，读取一行</span></span><br><span class="line">filehandler.seek(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">print</span> filehandler.readline()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">'readlines() function:'</span>         <span class="meta">#返回文件头，返回所有行的列表</span></span><br><span class="line">filehandler.seek(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">print</span> filehandler.readlines()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">'list all lines'</span>                <span class="meta">#返回文件头，显示所有行</span></span><br><span class="line">filehandler.seek(<span class="number">0</span>)</span><br><span class="line">textlist = filehandler.readlines()</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">line</span> in textlist:</span><br><span class="line">      <span class="keyword">print</span> <span class="keyword">line</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">'seek() function'</span>               <span class="meta">#移位到第<span class="number">32</span>个字符，从<span class="number">33</span>个字符开始显示余下内容</span></span><br><span class="line">filehandler.seek(<span class="number">32</span>)</span><br><span class="line"><span class="keyword">print</span> filehandler.read()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">'tell() function'</span>               <span class="meta">#移位到文件头，从头开始显示<span class="number">2</span>位字符</span></span><br><span class="line">filehandler.seek(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">print</span> filehandler.readline()          <span class="meta">#显示第一行内容</span></span><br><span class="line"><span class="keyword">print</span> filehandler.tell()              <span class="meta">#显示当前位置</span></span><br><span class="line"><span class="keyword">print</span> filehandler.readline()          <span class="meta">#显示第二行内容</span></span><br><span class="line"><span class="keyword">print</span> filehandler.read()              <span class="meta">#显示余下所有内容</span></span><br><span class="line"></span><br><span class="line">filehandler.close()                   <span class="meta">#关闭文件句柄</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>文件系统操作</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment">#-*- encoding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os,fnmatch,glob</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> fileName <span class="keyword">in</span> os.listdir ( <span class="string">'/root'</span> ):                 <span class="comment">#列出/root目录内容，不包括.和..</span></span><br><span class="line">   <span class="built_in">print</span> fileName</span><br><span class="line"></span><br><span class="line">os.mkdir(<span class="string">'py'</span>)                  <span class="comment">#在当前目录下创建一个py目录，且只能创建一层</span></span><br><span class="line">os.rmdir( <span class="string">'py'</span>)                 <span class="comment">#在当前目录下删除py目录，且只能删除一层</span></span><br><span class="line">os.makedirs(<span class="string">'py/aa'</span>)            <span class="comment">#可创建多层目录</span></span><br><span class="line">os.removedirs(<span class="string">'py/aa'</span>)          <span class="comment">#可删除多层目录</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">'demonstration fnmatch module'</span>                 </span><br><span class="line"><span class="keyword">for</span> fileName <span class="keyword">in</span> os.listdir ( <span class="string">'/root/python/file'</span> ):</span><br><span class="line">        <span class="keyword">if</span> fnmatch.fnmatch(fileName,<span class="string">'*.txt'</span>):        <span class="comment">#利用UNIX风格的通配，只显示后缀为txt的文件</span></span><br><span class="line">                <span class="built_in">print</span> fileName</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">'demonstration glob module'</span></span><br><span class="line"><span class="keyword">for</span> fileName <span class="keyword">in</span> glob.glob ( <span class="string">'*.txt'</span> ):               <span class="comment">#利用UNIX风格的通配，只显示后缀为txt的文件</span></span><br><span class="line">        <span class="built_in">print</span> fileName</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取文件状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment">#-*- encoding:UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line">import os,time,<span class="built_in">stat</span></span><br><span class="line"></span><br><span class="line">fileStats = os.stat ( <span class="string">'test.txt'</span> )                         <span class="comment">#获取文件/目录的状态</span></span><br><span class="line">fileInfo = &#123;</span><br><span class="line"><span class="string">'Size'</span>:fileStats [ stat.ST_SIZE ],                         <span class="comment">#获取文件大小</span></span><br><span class="line"><span class="string">'LastModified'</span>:time.ctime( fileStats [ stat.ST_MTIME ] ),  <span class="comment">#获取文件最后修改时间</span></span><br><span class="line"><span class="string">'LastAccessed'</span>:time.ctime( fileStats [ stat.ST_ATIME ] ),  <span class="comment">#获取文件最后访问时间</span></span><br><span class="line"><span class="string">'CreationTime'</span>:time.ctime( fileStats [ stat.ST_CTIME ] ),  <span class="comment">#获取文件创建时间</span></span><br><span class="line"><span class="string">'Mode'</span>:fileStats [ stat.ST_MODE ]                          <span class="comment">#获取文件的模式</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#print fileInfo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> field <span class="keyword">in</span> fileInfo:                                     <span class="comment">#显示对象内容</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">'%s:%s'</span> % (field,fileInfo[field])</span><br><span class="line"></span><br><span class="line"><span class="comment">#for infoField,infoValue in fileInfo:</span></span><br><span class="line"><span class="comment">#       print '%s:%s' % (infoField,infoValue)</span></span><br><span class="line"><span class="keyword">if</span> stat.S_ISDIR ( fileStats [ stat.ST_MODE ] ):             <span class="comment">#判断是否路径</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">'Directory. '</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span> <span class="string">'Non-directory.'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> stat.S_ISREG ( fileStats [ stat.ST_MODE ] ):             <span class="comment">#判断是否一般文件</span></span><br><span class="line">   <span class="built_in">print</span> <span class="string">'Regular file.'</span></span><br><span class="line"><span class="keyword">elif</span> stat.S_ISLNK ( fileStats [ stat.ST_MODe ] ):           <span class="comment">#判断是否链接文件</span></span><br><span class="line">   <span class="built_in">print</span> <span class="string">'Shortcut.'</span></span><br><span class="line"><span class="keyword">elif</span> stat.S_ISSOCK ( fileStats [ stat.ST_MODe ] ):          <span class="comment">#判断是否套接字文件     </span></span><br><span class="line">   <span class="built_in">print</span> <span class="string">'Socket.'</span></span><br><span class="line"><span class="keyword">elif</span> stat.S_ISFIFO ( fileStats [ stat.ST_MODe ] ):          <span class="comment">#判断是否命名管道</span></span><br><span class="line">   <span class="built_in">print</span> <span class="string">'Named pipe.'</span></span><br><span class="line"><span class="keyword">elif</span> stat.S_ISBLK ( fileStats [ stat.ST_MODe ] ):           <span class="comment">#判断是否块设备</span></span><br><span class="line">   <span class="built_in">print</span> <span class="string">'Block special device.'</span></span><br><span class="line"><span class="keyword">elif</span> stat.S_ISCHR ( fileStats [ stat.ST_MODe ] ):           <span class="comment">#判断是否字符设置</span></span><br><span class="line">   <span class="built_in">print</span> <span class="string">'Character special device.'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line">#-*- encoding:UTF<span class="number">-8</span> -*-</span><br><span class="line"></span><br><span class="line">import <span class="built_in">os</span>.<span class="built_in">path</span></span><br><span class="line"></span><br><span class="line">fileStats = <span class="string">'test.txt'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">os</span>.<span class="built_in">path</span>.isdir ( fileStats ):         #判断是否路径</span><br><span class="line">        <span class="built_in">print</span> <span class="string">'Directory.'</span></span><br><span class="line">elif <span class="built_in">os</span>.<span class="built_in">path</span>.isfile ( fileStats ):      #判断是否一般文件</span><br><span class="line">        <span class="built_in">print</span> <span class="string">'File.'</span></span><br><span class="line">elif <span class="built_in">os</span>.<span class="built_in">path</span>.islink ( fileStats ):      #判断是否链接文件</span><br><span class="line">        <span class="built_in">print</span> <span class="string">'Shortcut.'</span></span><br><span class="line">elif <span class="built_in">os</span>.<span class="built_in">path</span>.ismount ( fileStats ):     #判断是否挂接点</span><br><span class="line">        <span class="built_in">print</span> <span class="string">'Mount point.'</span></span><br></pre></td></tr></table></figure>
<p>stat模块描述了os.stat(filename)返回的文件属性列表中各值的意义。我们可方便地根据stat模块存取os.stat()中的值。</p>
</li>
<li><p>串行化文件</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment">#-*- encoding:UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line">import pickle</span><br><span class="line"></span><br><span class="line">filehandler = <span class="built_in">open</span>(<span class="string">'pickle.txt'</span>,<span class="string">'w'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">text</span> = [<span class="string">'this is a pickle demonstrate'</span>,<span class="string">'aa'</span>,<span class="string">'bb'</span>]</span><br><span class="line"></span><br><span class="line">pickle.dump(<span class="keyword">text</span>,filehandler)           <span class="comment">#把text的内容序列化后保存到pickle.txt文件中</span></span><br><span class="line"></span><br><span class="line">filehandler.<span class="built_in">close</span>()</span><br><span class="line"></span><br><span class="line">filehandler2 = <span class="built_in">open</span>(<span class="string">'pickle.txt'</span>)</span><br><span class="line"></span><br><span class="line">textlist = pickle.<span class="built_in">load</span>(filehandler2)    <span class="comment">#还原序列化字符串</span></span><br><span class="line">print textlist</span><br><span class="line"></span><br><span class="line">filehandler2.<span class="built_in">close</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">#cpickle是用C写的pickle模块，比标准的pickle速度快很多，使用方法同pickle。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>内存文件</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line">#-*- coding: utf<span class="number">-8</span> -*-</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> StringIO</span><br><span class="line"></span><br><span class="line">fileHandle = StringIO.StringIO ( <span class="string">"Let freedom ring."</span> )   #create file <span class="keyword">in</span> memory</span><br><span class="line"></span><br><span class="line">print fileHandle.read() # <span class="string">"Let freedom ring."</span></span><br><span class="line"></span><br><span class="line">fileHandle.close()</span><br><span class="line"></span><br><span class="line">#cStringIO是用C写的StringIO模块，执行速度比StringIO快。</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>shutil模块是一个高级的文件处理模块，可实现文件的拷贝、删除等操作。</p>
<h2 id="Chapter-10-正则表达式"><a href="#Chapter-10-正则表达式" class="headerlink" title="Chapter 10. 正则表达式"></a>Chapter 10. 正则表达式</h2><p>正则表达式是一个很有用的工具，可处理复杂的字符匹配和替换工作。在Python中内置了一个re模块以支持正则表达式。</p>
<p>正则表达式有两种基本的操作，分别是匹配和替换。</p>
<ul>
<li><p>匹配就是在一个文本字符串中搜索匹配一特殊表达式；</p>
</li>
<li><p>替换就是在一个字符串中查找并替换匹配一特殊表达式的字符串。</p>
</li>
</ul>
<h2 id="10-1-基本元素"><a href="#10-1-基本元素" class="headerlink" title="10.1. 基本元素"></a>10.1. 基本元素</h2><p>正则表达式定义了一系列的特殊字符元素以执行匹配动作。</p>
<p><strong>Table 10.1. 正则表达式基本字符</strong></p>
<table>
<thead>
<tr>
<th>字符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>匹配text字符串</td>
</tr>
<tr>
<td>.</td>
<td>匹配除换行符之外的任意一个单个字符</td>
</tr>
<tr>
<td>^</td>
<td>匹配一个字符串的开头</td>
</tr>
<tr>
<td>$</td>
<td>匹配一个字符串的末尾</td>
</tr>
</tbody>
</table>
<p>在正则表达式中，我们还可用匹配限定符来约束匹配的次数。</p>
<p><strong>Table 10.2. 匹配限定符</strong></p>
<table>
<thead>
<tr>
<th>最大匹配</th>
<th>最小匹配</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>*</td>
<td>重复匹配前表达式零次或多次</td>
</tr>
<tr>
<td>+</td>
<td>+</td>
<td>重复匹配前表达式一次或多次</td>
</tr>
<tr>
<td>?</td>
<td>?</td>
<td>重复匹配前表达式零次或一次</td>
</tr>
<tr>
<td>{m}</td>
<td>{m}</td>
<td>精确重复匹配前表达式m次</td>
</tr>
<tr>
<td>{m,}</td>
<td>{m,}</td>
<td>至少重复匹配前表达式m次</td>
</tr>
<tr>
<td>{m,n}</td>
<td>{m,n}</td>
<td>至少重复匹配前表达式m次，至多重复匹配前表达式n次</td>
</tr>
</tbody>
</table>
<p>据上所述，”.*“为最大匹配，能匹配源字符串所有能匹配的字符串。”.* “为最小匹配，只匹配第一次出现的字符串。如：d.*g能匹配任意以d开头，以g结尾的字符串，如”debug”和”debugging”，甚至”dog is walking”。而d.* g只能匹配”debug”，在”dog is walking”字符串中，则只匹配到”dog “。</p>
<p>在一些更复杂的匹配中，我们可用到组和运算符。</p>
<p><strong>Table 10.3. 组和运算符</strong></p>
<table>
<thead>
<tr>
<th>组</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>[…]</td>
<td>匹配集合内的字符，如[a-z],[1-9]或[,./;’]</td>
</tr>
<tr>
<td>[^…]</td>
<td>匹配除集合外的所有字符，相当于取反操作</td>
</tr>
<tr>
<td>A&#124;B</td>
<td>匹配表达式A或B，相当于OR操作</td>
</tr>
<tr>
<td>(…)</td>
<td>表达式分组，每对括号为一组，如([a-b]+)([A-Z]+)([1-9]+)</td>
</tr>
<tr>
<td>\number</td>
<td>匹配在number表达式组内的文本</td>
</tr>
</tbody>
</table>
<p>有一组特殊的字符序列，用来匹配具体的字符类型或字符环境。如\b匹配字符边界，food\b匹配”food”、”zoofood”，而和”foodies”不匹配。</p>
<p><strong>Table 10.4. 特殊字符序列</strong></p>
<table>
<thead>
<tr>
<th>字符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\A</td>
<td>只匹配字符串的开始</td>
</tr>
<tr>
<td>\b</td>
<td>匹配一个单词边界</td>
</tr>
<tr>
<td>\B</td>
<td>匹配一个单词的非边界</td>
</tr>
<tr>
<td>\d</td>
<td>匹配任意十进制数字字符，等价于r’[0-9]’</td>
</tr>
<tr>
<td>\D</td>
<td>匹配任意非十进制数字字符，等价于r’[^0-9]’</td>
</tr>
<tr>
<td>\s</td>
<td>匹配任意空格字符（空格符、tab制表符、换行符、回车、换页符、垂直线符号）</td>
</tr>
<tr>
<td>\S</td>
<td>匹配任意非空格字符</td>
</tr>
<tr>
<td>\w</td>
<td>匹配任意字母数字字符</td>
</tr>
<tr>
<td>\W</td>
<td>匹配任意非字母数字字符</td>
</tr>
<tr>
<td>\Z</td>
<td>仅匹配字符串的尾部</td>
</tr>
<tr>
<td>\</td>
<td>匹配反斜线字符</td>
</tr>
</tbody>
</table>
<p>有一套声明(assertion)对具体事件进行声明。</p>
<p><strong>Table 10.5. 正则表达式声明</strong></p>
<table>
<thead>
<tr>
<th>声明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>( iLmsux)</td>
<td>匹配空字符串，iLmsux字符对应下表的正则表达式修饰符。</td>
</tr>
<tr>
<td>( :…)</td>
<td>匹配圆括号内定义的表达式，但不填充字符组表。</td>
</tr>
<tr>
<td>( P&lt;name&gt;)</td>
<td>匹配圆括号内定义的表达式，但匹配的表达式还可用作name标识的符号组。</td>
</tr>
<tr>
<td>( P=name)</td>
<td>匹配所有与前面命名的字符组相匹配的文本。</td>
</tr>
<tr>
<td>( #…)</td>
<td>引入注释，忽略圆括号内的内容。</td>
</tr>
<tr>
<td>( =…)</td>
<td>如果所提供的文本与下一个正则表达式元素匹配，这之间没有多余的文本就匹配。这允许在一个表达式中进行超前操作，而不影响正则表达式其余部分的分析。如”Martin”其后紧跟”Brown”，则”Martin( =Brown)”就只与”Martin”匹配。</td>
</tr>
<tr>
<td>( !…)</td>
<td>仅当指定表达式与下一个正则表达式元素不匹配时匹配，是( =…)的反操作。</td>
</tr>
<tr>
<td>( &lt;=…)</td>
<td>如果字符串当前位置的前缀字符串是给定文本，就匹配，整个表达式就在当前位置终止。如( &lt;=abc)def表达式与”abcdef”匹配。这种匹配是对前缀字符数量的精确匹配。</td>
</tr>
<tr>
<td>( &lt;!…)</td>
<td>如果字符串当前位置的前缀字符串不是给定的正文，就匹配，是( &lt;=…)的反操作。</td>
</tr>
</tbody>
</table>
<p>正则表达式还支持一些处理标志，它会影响正则式的执行方法。</p>
<p><strong>Table 10.6. 处理标志</strong></p>
<table>
<thead>
<tr>
<th>标志</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>I或IGNORECASE</td>
<td>忽略表达式的大小写来匹配文本。</td>
</tr>
</tbody>
</table>
<h2 id="10-2-操作"><a href="#10-2-操作" class="headerlink" title="10.2. 操作"></a>10.2. 操作</h2><p>通过re模块，我们就可在python中利用正则式对字符串进行搜索、抽取和替换操作。如：re.search()函数能执行一个基本的搜索操作，它能返回一个MatchObject对象。re.findall()函数能返回匹配列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> re</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=<span class="string">"this is my re module test"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>obj = re.search(<span class="string">r'.*is'</span>,a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> obj</span><br><span class="line">&lt;_sre.SRE_Match object at <span class="number">0xb7d7a218</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>obj.group()</span><br><span class="line"><span class="string">'this is'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.findall(<span class="string">r'.*is'</span>,a)</span><br><span class="line">[<span class="string">'this is'</span>]</span><br></pre></td></tr></table></figure>
<p>MatchObject对象方法</p>
<p><strong>Table 10.7. MatchObject对象方法</strong></p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>expand(template)</td>
<td>展开模板中用反斜线定义的内容。</td>
</tr>
<tr>
<td>m.group([group,…])</td>
<td>返回匹配的文本，是个元组。此文本是与给定group或由其索引数字定义的组匹配的文本，如果没有组定组名，则返回所有匹配项。</td>
</tr>
<tr>
<td>m.groups([default])</td>
<td>返回一个元组，该元组包含模式中与所有组匹配的文本。如果给出default参数，default参数值就是与给定表达式不匹配的组的返回值。default参数的默认取值为None。</td>
</tr>
<tr>
<td>m.groupdict([default])</td>
<td>返回一个字典，该字典包含匹配的所有子组。如果给出default参数，其值就是那些不匹配组的返回值。default参数的默认取值为None。</td>
</tr>
<tr>
<td>m.start([group])</td>
<td>返回指定group的开始位置，或返回全部匹配的开始位置。</td>
</tr>
<tr>
<td>m.end([group])</td>
<td>返回指定group的结束位置，或返回全部匹配的结束位置。</td>
</tr>
<tr>
<td>m.span([group])</td>
<td>返回两元素组，此元组等价于关于一给定组或一个完整匹配表达式的(m.start(group),m.end(group)))列表</td>
</tr>
<tr>
<td>m.pos</td>
<td>传递给match()或search()函数的pos值。</td>
</tr>
<tr>
<td>m.endpos</td>
<td>传递给match()或search()函数的endpos值。</td>
</tr>
<tr>
<td>m.lastindex</td>
</tr>
<tr>
<td>m.lastgroup</td>
</tr>
<tr>
<td>m.re</td>
<td>创建这个MatchObject对象的正则式对象</td>
</tr>
<tr>
<td>m.string</td>
<td>提供给match()或search()函数的字符串。</td>
</tr>
</tbody>
</table>
<p>使用sub()或subn()函数可在字符串上执行替换操作。sub()函数的基本格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sub(pattern,<span class="keyword">replace</span>,<span class="keyword">string</span>[,<span class="keyword">count</span>])</span><br></pre></td></tr></table></figure>
<p>示例</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; str = <span class="string">'The dog on my bed'</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; rep = re.sub(<span class="string">'dog'</span>,<span class="string">'cat'</span>,str)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> rep</span></span><br><span class="line">The cat on my bed</span><br></pre></td></tr></table></figure>
<p>replace参数可接受函数。要获得替换的次数，可使用subn()函数。subn()函数返回一个元组，此元组包含替换了的文本和替换的次数。</p>
<p>如果需用同一个正则式进行多次匹配操作，我们可把正则式编译成内部语言，提高处理速度。编译正则式用compile()函数来实现。compile()函数的基本格式如下：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">compile</span><span class="params">(str[,flags])</span></span></span><br></pre></td></tr></table></figure>
<p>str表示需编译的正则式串，flags是修饰标志符。正则式被编译后生成一个对象，该对象有多种方法和属性。</p>
<p><strong>Table 10.8. 正则式对象方法/属性</strong></p>
<table>
<thead>
<tr>
<th>方法/属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>r.search(string[,pos[,endpos]])</td>
<td>同search()函数，但此函数允许指定搜索的起点和终点</td>
</tr>
<tr>
<td>r.match(string[,pos[,endpos]])</td>
<td>同match()函数，但此函数允许指定搜索的起点和终点</td>
</tr>
<tr>
<td>r.split(string[,max])</td>
<td>同split()函数</td>
</tr>
<tr>
<td>r.findall(string)</td>
<td>同findall()函数</td>
</tr>
<tr>
<td>r.sub(replace,string[,count])</td>
<td>同sub()函数</td>
</tr>
<tr>
<td>r.subn(replace,string[,count])</td>
<td>同subn()函数</td>
</tr>
<tr>
<td>r.flags</td>
<td>创建对象时定义的标志</td>
</tr>
<tr>
<td>r.groupindex</td>
<td>将r’( Pid)’定义的符号组名字映射为组序号的字典</td>
</tr>
<tr>
<td>r.pattern</td>
<td>在创建对象时使用的模式</td>
</tr>
</tbody>
</table>
<p>转义字符串用re.escape()函数。</p>
<p>通过getattr获取对象引用</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; li=[<span class="string">'a'</span>,<span class="string">'b'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; getattr(li,<span class="string">'append'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; getattr(li,<span class="string">'append'</span>)(<span class="string">'c'</span>)          <span class="comment">#相当于li.append('c')</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; li</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; handler=getattr(li,<span class="string">'append'</span>,None)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; handler</span><br><span class="line">&lt;built-<span class="keyword">in</span> method append of list object at <span class="number">0xb7d4a52c</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; handler(<span class="string">'cc'</span>)                      <span class="comment">#相当于li.append('cc')</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; li</span><br><span class="line">[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'cc'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;result = handler(<span class="string">'bb'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;li</span><br><span class="line">[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'cc'</span>,<span class="string">'bb'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;print result</span><br><span class="line">None</span><br></pre></td></tr></table></figure>
<h2 id="Chapter-11-调试"><a href="#Chapter-11-调试" class="headerlink" title="Chapter 11. 调试"></a>Chapter 11. 调试</h2><p>Python自带了一个调试器叫pdb，和Gnu的gbd类似。下面用一个简单的程序来演示pdb的功能。程序代码如下：</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"></span><br><span class="line">import pdb</span><br><span class="line">a = <span class="string">"aaa"</span></span><br><span class="line">pdb.set_trace()</span><br><span class="line">b = <span class="string">"bbb"</span></span><br><span class="line">c = <span class="string">"ccc"</span></span><br><span class="line">final = a + b + c</span><br><span class="line">print final</span><br></pre></td></tr></table></figure>
<p>该程序已导入pdb模块，并在代码中添加的pdb.set_trace()跟踪点。现在让我们来运行该程序。</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">localhost:~/python/pdb<span class="comment"># python pdbtest.py</span></span><br><span class="line">--Return--</span><br><span class="line">&gt; /usr/lib/python2.<span class="number">3</span>/pdb.py<span class="function"><span class="params">(<span class="number">992</span>)</span><span class="title">set_trace</span><span class="params">()</span>-&gt;</span>None</span><br><span class="line"><span class="function">-&gt;</span> Pdb().set_trace()              <span class="comment"># 从跟踪点开始执行</span></span><br><span class="line">(Pdb) n                           <span class="comment"># n 读入下一行代码</span></span><br><span class="line">&gt; /root/python/pdb/pdbtest.py(<span class="number">6</span>) ()</span><br><span class="line"><span class="function">-&gt;</span> b = <span class="string">"bbb"</span></span><br><span class="line">(Pdb) n</span><br><span class="line">&gt; /root/python/pdb/pdbtest.py(<span class="number">7</span>) ()</span><br><span class="line"><span class="function">-&gt;</span> c = <span class="string">"ccc"</span></span><br><span class="line">(Pdb) p b                         <span class="comment"># p 打印变量值</span></span><br><span class="line"><span class="string">'bbb'</span></span><br><span class="line">(Pdb) l                           <span class="comment"># l 显示当前执行位置</span></span><br><span class="line">  <span class="number">2</span></span><br><span class="line">  <span class="number">3</span>     <span class="keyword">import</span> pdb</span><br><span class="line">  <span class="number">4</span>     a = <span class="string">"aaa"</span></span><br><span class="line">  <span class="number">5</span>     pdb.set_trace()</span><br><span class="line">  <span class="number">6</span>     b = <span class="string">"bbb"</span></span><br><span class="line">  <span class="number">7</span><span class="function">  -&gt;</span> c = <span class="string">"ccc"</span></span><br><span class="line">  <span class="number">8</span>     final = a + b + c</span><br><span class="line">  <span class="number">9</span>     <span class="built_in">print</span> final</span><br><span class="line"> <span class="number">10</span></span><br><span class="line">[EOF]</span><br><span class="line">(Pdb) n                          </span><br><span class="line">&gt; /root/python/pdb/pdbtest.py(<span class="number">8</span>) ()</span><br><span class="line"><span class="function">-&gt;</span> final = a + b + c</span><br><span class="line">(Pdb) n                           <span class="comment"># 如果命令和上次的一样，也可直接按回车，不用输入'n'</span></span><br><span class="line">&gt; /root/python/pdb/pdbtest.py(<span class="number">9</span>) ()</span><br><span class="line"><span class="function">-&gt;</span> <span class="built_in">print</span> final</span><br><span class="line">(Pdb) n</span><br><span class="line">aaabbbccc</span><br><span class="line">--Return--</span><br><span class="line">&gt; /root/python/pdb/pdbtest.py<span class="function"><span class="params">(<span class="number">9</span>)</span> <span class="params">()</span>-&gt;</span>None</span><br><span class="line"><span class="function">-&gt;</span> <span class="built_in">print</span> final</span><br><span class="line">(Pdb) p a,b,c,final</span><br><span class="line">(<span class="string">'aaa'</span>, <span class="string">'bbb'</span>, <span class="string">'ccc'</span>, <span class="string">'aaabbbccc'</span>)</span><br><span class="line">(Pdb)</span><br><span class="line">(<span class="string">'aaa'</span>, <span class="string">'bbb'</span>, <span class="string">'ccc'</span>, <span class="string">'aaabbbccc'</span>)</span><br><span class="line">(Pdb) n</span><br><span class="line">localhost:~/python/pdb<span class="comment">#           # 返回shell</span></span><br></pre></td></tr></table></figure>
<p>pdb还有很多命令，用help命令就可以列出所有的pdb命令，用help p可以查询p命令的说明。</p>
<h2 id="Chapter-12-HOW-TO"><a href="#Chapter-12-HOW-TO" class="headerlink" title="Chapter 12. HOW-TO"></a>Chapter 12. HOW-TO</h2><p>本章内容记录Python的一些小技巧小知识。来源是网上摘录或自己学习所得。</p>
<ul>
<li><p>如何判断操作系统类型</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line"><span class="builtin-name">print</span> sys.platform</span><br><span class="line"><span class="builtin-name">print</span> sys.version</span><br></pre></td></tr></table></figure>
</li>
<li><p>显示和修改python的Module搜索路径</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; import sys</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; print sys.path</span><br><span class="line">[<span class="string">''</span>, <span class="string">'/usr/lib/python23.zip'</span>, <span class="string">'/usr/lib/python2.3'</span>, <span class="string">'/usr/lib/python2.3/plat-linux2'</span>,</span><br><span class="line"> <span class="string">'/usr/lib/python2.3/lib-tk'</span>, <span class="string">'/usr/lib/python2.3/lib-dynload'</span>, <span class="string">'/usr/local/lib/python2.3/site-packages'</span>,</span><br><span class="line"> <span class="string">'/usr/lib/python2.3/site-packages'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; sys.path.append(<span class="string">'/usr/lib/mypath'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; print sys.path</span><br><span class="line">[<span class="string">''</span>, <span class="string">'/usr/lib/python23.zip'</span>, <span class="string">'/usr/lib/python2.3'</span>, <span class="string">'/usr/lib/python2.3/plat-linux2'</span>,</span><br><span class="line"><span class="string">'/usr/lib/python2.3/lib-tk'</span>, <span class="string">'/usr/lib/python2.3/lib-dynload'</span>, <span class="string">'/usr/local/lib/python2.3/site-packages'</span>,</span><br><span class="line"> <span class="string">'/usr/lib/python2.3/site-packages'</span>, <span class="string">'/usr/lib/mypath'</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>把列表转换成字符串</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; t=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; print t</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; import string</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; print string.join(t)</span><br><span class="line">a b c</span><br></pre></td></tr></table></figure>
</li>
<li><p>运行系统程序</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;import os</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;os.system(<span class="string">'ls'</span>)            <span class="comment">#用os.system()可执行系统命令</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;<span class="built_in">exec</span> <span class="string">"os.system('ls')"</span>     <span class="comment">#用exec可执行字符串中的命令，两个命令的效果一样。</span></span></span><br></pre></td></tr></table></figure>
<p>以上两个命令的输出都是直接显示在屏幕上，不能保存到变量中，如果我们要把输出保存起来，可用os.pope\ n()函数。</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;<span class="keyword">cmd</span><span class="bash"> = <span class="string">'/usr/bin/mkntpwd %s'</span> % password</span></span><br><span class="line"><span class="bash">&gt;&gt;&gt;handler = os.popen(cmd,<span class="string">'r'</span>)</span></span><br><span class="line"><span class="bash">&gt;&gt;&gt;passwordString=handler.read()   <span class="comment">#passwordString为mkntpwd程序的输出结果</span></span></span><br></pre></td></tr></table></figure>
<p>使用commands模块也可以获取程序的输出，它包含一些基于os.popen()的封装函数，使我们能更方便地获取运行系统命令和获取命令的输出，但该模块只在Unix系统下有效，不能用于Windows平台。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; import commands</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; status,output = commands.getstatusoutput(<span class="string">'ls -l'</span>)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> output</span></span><br><span class="line">总计 96564</span><br><span class="line">-rw-r--r--  1 root     root         4459 2005-12-01 10:23 2005.sxw</span><br><span class="line">-rw-r--r--  1 root     root        27511 2006-04-12 16:54 20060412_user.ods</span><br><span class="line">-rw-r--r--  1 root     root       202258 2006-01-06 16:48 2006风景-1月.jpg</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span> status</span></span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p>在Python2.4中引入一个新的模块叫subprocess，用于取代os.system、os.spawn*、os.popen*、popen2.*、commands.*。</p>
</li>
<li><p>编码转换</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">#-*-coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line">a=<span class="string">u"测试"</span></span><br><span class="line">b=a.encode(<span class="string">'gb2312'</span>)</span><br><span class="line"><span class="keyword">print</span> a</span><br><span class="line"><span class="keyword">print</span> b</span><br></pre></td></tr></table></figure>
</li>
<li><p>交换两个变量</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span>,<span class="selector-tag">b</span> = <span class="number">1</span>,<span class="number">2</span></span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span>,b</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span>,<span class="selector-tag">b</span> = <span class="selector-tag">b</span>,a</span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span>,b</span><br><span class="line">(<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line"><span class="number">2</span></span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>测试数据类型</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; a=<span class="number">123</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b=<span class="string">'test'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a</span><br><span class="line"><span class="number">123</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; b</span><br><span class="line"><span class="string">'test'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; isinstance(a,int)</span><br><span class="line">True</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; isinstance(a,str)</span><br><span class="line">False</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; isinstance(b,int)</span><br><span class="line">False</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; isinstance(b,str)</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
</li>
<li><p>用in判断是否包含子字符串</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a=<span class="string">'this is my test'</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="string">'is'</span> <span class="keyword">in</span> a</span></span><br><span class="line">True</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="string">'mm'</span> <span class="keyword">in</span> a</span></span><br><span class="line">False</span><br></pre></td></tr></table></figure>
</li>
<li><p>__iter__迭代器</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; a = <span class="string">"iterator"</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; t = iter(a)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; t.next()</span><br><span class="line"><span class="string">'i'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; t.next()</span><br><span class="line"><span class="string">'t'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; t.next()</span><br><span class="line"><span class="string">'e'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; t.next()</span><br><span class="line"><span class="string">'r'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; t.next()</span><br><span class="line"><span class="string">'a'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; t.next()</span><br><span class="line"><span class="string">'t'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; t.next()</span><br><span class="line"><span class="string">'o'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; t.next()</span><br><span class="line"><span class="string">'r'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; t.next()</span><br><span class="line">Traceback (most recent call last)<span class="symbol">:</span></span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span>  </span><br><span class="line">StopIteration</span><br></pre></td></tr></table></figure>
<p>自已写一个迭代器类</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="class"><span class="keyword">class</span> <span class="title">reverse</span>:</span></span><br><span class="line">...     <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>,data)</span></span><span class="symbol">:</span></span><br><span class="line">...             <span class="keyword">self</span>.data=data</span><br><span class="line">...             <span class="keyword">self</span>.index=len(data)</span><br><span class="line">...     <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">...             <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">...     <span class="function"><span class="keyword">def</span> <span class="title">next</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">...             <span class="keyword">if</span> <span class="keyword">self</span>.index == <span class="number">0</span><span class="symbol">:</span></span><br><span class="line">...                     raise StopIteration</span><br><span class="line">...             <span class="keyword">self</span>.index = <span class="keyword">self</span>.index - <span class="number">1</span></span><br><span class="line">...             <span class="keyword">return</span> <span class="keyword">self</span>.data[<span class="keyword">self</span>.index]</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; for char in reverse(<span class="string">'iterator'</span>)<span class="symbol">:</span></span><br><span class="line">...     print char</span><br><span class="line">...</span><br><span class="line">r</span><br><span class="line">o</span><br><span class="line">t</span><br><span class="line">a</span><br><span class="line">r</span><br><span class="line">e</span><br><span class="line">t</span><br><span class="line">i</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过getattr可以得到一个在运行时才知道具体函数名的对象的引用，能增强我们程序的灵活性。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; li=[<span class="string">'a'</span>,<span class="string">'b'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; getattr(li,<span class="string">'append'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; getattr(li,<span class="string">'append'</span>)(<span class="string">'c'</span>)          <span class="comment">#相当于li.append('c')</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; li</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; handler=getattr(li,<span class="string">'append'</span>,None)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; handler</span><br><span class="line">&lt;built-<span class="keyword">in</span> method append of list object at <span class="number">0xb7d4a52c</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; handler(<span class="string">'cc'</span>)                      <span class="comment">#相当于li.append('cc')</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; li</span><br><span class="line">[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'cc'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;result = handler(<span class="string">'bb'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;li</span><br><span class="line">[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'cc'</span>,<span class="string">'bb'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;print result</span><br><span class="line">None</span><br></pre></td></tr></table></figure>
<p>编程示例：</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsout</span><br><span class="line"></span><br><span class="line"><span class="title">def</span> output(<span class="class"><span class="keyword">data</span>, format="text"):                              </span></span><br><span class="line">    output_function = getattr(statsout, <span class="string">"output_%s"</span> % format)</span><br><span class="line">    return output_function(<span class="class"><span class="keyword">data</span>)</span></span><br></pre></td></tr></table></figure>
<p>以上代码表示，output函数接收一个data参数和format参数，根据format参数的值，从statsout模块中取出output_text函数运行，data参数通过output_function(data)传递给了statsout模块中的output_text函数。format取不同值可从statsout模块中取出不同的函数运行（output_xxxx）。也就是说我们要运行的函数是在程序运行后才确定的。这样我们可把不同的函数以output_xxx形式命名放在statout模块中，通过以上程序可动态调用各种函数。</p>
</li>
<li><p>hasattr用于确定一个对象是否具有某个属性。</p>
<p>语法：</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hasattr<span class="function"><span class="params">(object, name)</span> -&gt;</span> bool</span><br></pre></td></tr></table></figure>
<p>判断object中是否有name属性，返回一个布尔值。</p>
</li>
<li><p>拆分序列</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; a=[c for c in <span class="string">'abcdefg'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;</span><br></pre></td></tr></table></figure>
<p>按if条件拆分序列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[c <span class="keyword">for</span> c <span class="keyword">in</span> <span class="string">'123456'</span> <span class="keyword">if</span> int(c)&lt;<span class="number">3</span>]      如果<span class="keyword">if</span>的条件为真，则执行<span class="keyword">for</span>循环</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="string">'1'</span>, <span class="string">'2'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[c <span class="keyword">for</span> c <span class="keyword">in</span> <span class="string">'123456'</span> <span class="keyword">if</span> int(c)&gt;<span class="number">3</span>]      如果<span class="keyword">if</span>的条件为假，则不执行<span class="keyword">for</span>循环</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>__dict__记录模块或类中所有对象的信息，它以字典{name:object}的形式记录这些信息，如果wikiaction是一个模块，则可以这样显示：</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;<span class="keyword">import</span> wikiaction</span><br><span class="line">&gt;&gt;&gt;<span class="built_in">print</span> wikiaction.__dict__</span><br><span class="line">&#123;<span class="string">'do_test'</span>: &lt;<span class="keyword">function</span> do_test at <span class="number">0xb7c10534</span>&gt;, <span class="string">'do_diff'</span>: &lt;<span class="keyword">function</span> do_diff at <span class="number">0xb7c0ef0c</span>&gt;, <span class="string">'do_refresh'</span>: &lt;fun</span><br><span class="line">ction do_refresh at <span class="number">0xb7c1025c</span>&gt;, <span class="string">'do_userform'</span>: &lt;<span class="keyword">function</span> do_userform at <span class="number">0xb7c103e4</span>&gt;, <span class="string">'getHandler'</span>: &lt;<span class="keyword">function</span></span><br><span class="line"> getHandler at <span class="number">0xb7c105a4</span>&gt;, <span class="string">'do_raw'</span>: &lt;<span class="keyword">function</span> do_raw at <span class="number">0xb7c10454</span>&gt;, <span class="string">'do_chart'</span>: &lt;<span class="keyword">function</span> do_chart at <span class="number">0xb7</span></span><br><span class="line">c104c4&gt;, <span class="string">'re'</span>: &lt;<span class="built_in">module</span> <span class="string">'re'</span> <span class="keyword">from</span> <span class="string">'/usr/lib/python2.3/re.pyc'</span>&gt;, <span class="string">'pysupport'</span>: &lt;<span class="built_in">module</span> <span class="string">'MoinMoin.util.pysupport'</span></span><br><span class="line"> <span class="keyword">from</span> <span class="string">'/usr/lib/python2.3/site-packages/MoinMoin/util/pysupport.pyc'</span>&gt;, <span class="string">'config'</span>: &lt;<span class="built_in">module</span> <span class="string">'MoinMoin.config'</span> fr</span><br><span class="line">om <span class="string">'/usr/lib/python2.3/site-packages/MoinMoin/config.pyc'</span>&gt;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>‘and’的特殊用法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a'</span> <span class="keyword">and</span> <span class="string">'b'</span>         <span class="comment">#如果两个都为真值，返回最后一个真值</span></span><br><span class="line"><span class="string">'b'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'b'</span> <span class="keyword">and</span> <span class="string">'a'</span>         <span class="comment">#同上</span></span><br><span class="line"><span class="string">'a'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a'</span> <span class="keyword">and</span> <span class="string">'b'</span> <span class="keyword">and</span> <span class="string">'c'</span> <span class="comment">#同上</span></span><br><span class="line"><span class="string">'c'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">''</span> <span class="keyword">and</span> <span class="string">'a'</span>          <span class="comment">#如果有假值，则返回假值</span></span><br><span class="line"><span class="string">''</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a'</span> <span class="keyword">and</span> <span class="string">''</span> <span class="keyword">and</span> <span class="string">'c'</span>  <span class="comment">#同上</span></span><br><span class="line"><span class="string">''</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">''</span> <span class="keyword">and</span> <span class="number">0</span>            <span class="comment">#如果两个都为假值，返回第一个假值</span></span><br><span class="line"><span class="string">''</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0</span> <span class="keyword">and</span> <span class="string">''</span>            <span class="comment">#同上</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>‘or’的的特殊用法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a'</span> <span class="keyword">or</span> <span class="string">'b'</span>          <span class="comment">#如果有一个为真值，则返回第一个真值</span></span><br><span class="line"><span class="string">'a'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'b'</span> <span class="keyword">or</span> <span class="string">'a'</span>          <span class="comment">#同上</span></span><br><span class="line"><span class="string">'b'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a'</span> <span class="keyword">or</span> <span class="string">'b'</span> <span class="keyword">or</span> <span class="string">''</span>    <span class="comment">#同上</span></span><br><span class="line"><span class="string">'a'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0</span> <span class="keyword">and</span> <span class="string">''</span> <span class="keyword">and</span> &#123;&#125;     <span class="comment">#如果所有都是假值，则返回第一个假值</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;&#125; <span class="keyword">and</span> <span class="string">''</span> <span class="keyword">and</span> &#123;&#125;    <span class="comment">#同上</span></span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>lambda匿名函数的用法</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; a=lambda <span class="symbol">c:</span>c*<span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a</span><br><span class="line">&lt;function &lt;lambda&gt; at <span class="number">0xb7dd710c</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a(<span class="number">2</span>)</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; a(<span class="number">5</span>)</span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/ebook/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/ebook/uncategorized/python-note-module/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Python 学习笔记 模块篇
        
      </div>
    </a>
  
  
    <a href="/ebook/uncategorized/mysql-note/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">MySQL 学习笔记</div>
    </a>
  
</nav>

  
</article>


<section id="comments"></section>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var labels = "blog,gitment";
    labels = labels.split(",");
    var gitment = new Gitment({
        id: window.location.pathname,
        owner: 'hifor',
        repo: 'github-pages-comment',
        oauth: {
            client_id: '4eed20bfa5f203afa32c',
            client_secret: 'f9f85f592016611bddfa1f3f2aa4500f016931d3'
        },
        labels: labels
    })
    gitment.render('comments');
</script>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/android/">android</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/asp-net/">asp.net</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/c/">c</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/c/">c++</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/cpp/">cpp</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/csharp/">csharp</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/css/">css</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/git/">git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/html/">html</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/java/">java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/java-web/">java web</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/javascript/">javascript</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/jquery/">jquery</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/linux/">linux</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/lisp/">lisp</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/matlab/">matlab</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/node-js/">node.js</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/opengl/">opengl</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/os/">os</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/php/">php</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/python/">python</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/ruby/">ruby</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/seo/">seo</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/unity3d/">unity3d</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/windows/">windows</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/产品/">产品</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/其它/">其它</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/分布式/">分布式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/安全/">安全</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/工程/">工程</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/数学·数理逻辑/">数学·数理逻辑</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/数据库/">数据库</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/数据库-nosql/">数据库 - nosql</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/数据挖掘/">数据挖掘</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/数据结构·算法/">数据结构·算法</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/测试/">测试</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/算法/">算法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/组成原理/">组成原理</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/编程思想/">编程思想</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/编译/">编译</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/网络/">网络</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/计算机文化/">计算机文化</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/设计/">设计</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/设计模式·架构/">设计模式·架构</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/ebook/categories/逆向工程/">逆向工程</a><span class="category-list-count">6</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/ebook/tags/android/" style="font-size: 14.38px;">android</a> <a href="/ebook/tags/angularjs/" style="font-size: 10.63px;">angularjs</a> <a href="/ebook/tags/apache/" style="font-size: 10px;">apache</a> <a href="/ebook/tags/asp/" style="font-size: 11.25px;">asp</a> <a href="/ebook/tags/asp-net/" style="font-size: 13.75px;">asp.net</a> <a href="/ebook/tags/atom/" style="font-size: 10px;">atom</a> <a href="/ebook/tags/beautifulsoup/" style="font-size: 10px;">beautifulsoup</a> <a href="/ebook/tags/boost/" style="font-size: 11.25px;">boost</a> <a href="/ebook/tags/bootstrap/" style="font-size: 10.63px;">bootstrap</a> <a href="/ebook/tags/c/" style="font-size: 13.75px;">c</a> <a href="/ebook/tags/c/" style="font-size: 14.38px;">c++</a> <a href="/ebook/tags/chrome/" style="font-size: 10.63px;">chrome</a> <a href="/ebook/tags/coffeescript/" style="font-size: 10.63px;">coffeescript</a> <a href="/ebook/tags/cpp/" style="font-size: 18.75px;">cpp</a> <a href="/ebook/tags/csharp/" style="font-size: 15px;">csharp</a> <a href="/ebook/tags/css/" style="font-size: 10.63px;">css</a> <a href="/ebook/tags/ctf/" style="font-size: 10px;">ctf</a> <a href="/ebook/tags/d3-js/" style="font-size: 10.63px;">d3.js</a> <a href="/ebook/tags/django/" style="font-size: 14.38px;">django</a> <a href="/ebook/tags/ejs/" style="font-size: 10px;">ejs</a> <a href="/ebook/tags/express-js/" style="font-size: 10px;">express.js</a> <a href="/ebook/tags/flask/" style="font-size: 11.88px;">flask</a> <a href="/ebook/tags/fltk/" style="font-size: 10px;">fltk</a> <a href="/ebook/tags/foundation/" style="font-size: 10px;">foundation</a> <a href="/ebook/tags/gdip/" style="font-size: 10.63px;">gdip</a> <a href="/ebook/tags/gimp/" style="font-size: 10px;">gimp</a> <a href="/ebook/tags/git/" style="font-size: 13.75px;">git</a> <a href="/ebook/tags/gnuplot/" style="font-size: 10px;">gnuplot</a> <a href="/ebook/tags/go/" style="font-size: 13.13px;">go</a> <a href="/ebook/tags/guava/" style="font-size: 10px;">guava</a> <a href="/ebook/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/ebook/tags/hibernate/" style="font-size: 10px;">hibernate</a> <a href="/ebook/tags/highcharts/" style="font-size: 10px;">highcharts</a> <a href="/ebook/tags/html/" style="font-size: 10px;">html</a> <a href="/ebook/tags/intellij-idea/" style="font-size: 10px;">intellij idea</a> <a href="/ebook/tags/ionic/" style="font-size: 10.63px;">ionic</a> <a href="/ebook/tags/ios/" style="font-size: 12.5px;">ios</a> <a href="/ebook/tags/it人文/" style="font-size: 11.25px;">it人文</a> <a href="/ebook/tags/java/" style="font-size: 17.5px;">java</a> <a href="/ebook/tags/javascript/" style="font-size: 19.38px;">javascript</a> <a href="/ebook/tags/jfreechart/" style="font-size: 10px;">jfreechart</a> <a href="/ebook/tags/jinja2/" style="font-size: 10px;">jinja2</a> <a href="/ebook/tags/jquery/" style="font-size: 13.75px;">jquery</a> <a href="/ebook/tags/jquerymobile/" style="font-size: 11.25px;">jquerymobile</a> <a href="/ebook/tags/jqueryui/" style="font-size: 10.63px;">jqueryui</a> <a href="/ebook/tags/jsp/" style="font-size: 10.63px;">jsp</a> <a href="/ebook/tags/kali/" style="font-size: 10.63px;">kali</a> <a href="/ebook/tags/kotlin/" style="font-size: 10.63px;">kotlin</a> <a href="/ebook/tags/laravel/" style="font-size: 10.63px;">laravel</a> <a href="/ebook/tags/linux/" style="font-size: 16.25px;">linux</a> <a href="/ebook/tags/lua/" style="font-size: 10.63px;">lua</a> <a href="/ebook/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/ebook/tags/matplotlib/" style="font-size: 10px;">matplotlib</a> <a href="/ebook/tags/memcached/" style="font-size: 10px;">memcached</a> <a href="/ebook/tags/metasploit/" style="font-size: 10px;">metasploit</a> <a href="/ebook/tags/mfc/" style="font-size: 11.25px;">mfc</a> <a href="/ebook/tags/mongodb/" style="font-size: 10.63px;">mongodb</a> <a href="/ebook/tags/mvc/" style="font-size: 10px;">mvc</a> <a href="/ebook/tags/mybatis/" style="font-size: 10px;">mybatis</a> <a href="/ebook/tags/mysql/" style="font-size: 11.88px;">mysql</a> <a href="/ebook/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/ebook/tags/nlp/" style="font-size: 10px;">nlp</a> <a href="/ebook/tags/node-js/" style="font-size: 15.63px;">node.js</a> <a href="/ebook/tags/nosql/" style="font-size: 10px;">nosql</a> <a href="/ebook/tags/numpy/" style="font-size: 10.63px;">numpy</a> <a href="/ebook/tags/nw-js/" style="font-size: 10px;">nw.js</a> <a href="/ebook/tags/octave/" style="font-size: 10px;">octave</a> <a href="/ebook/tags/opengl/" style="font-size: 10px;">opengl</a> <a href="/ebook/tags/orm2/" style="font-size: 10px;">orm2</a> <a href="/ebook/tags/os/" style="font-size: 11.88px;">os</a> <a href="/ebook/tags/php/" style="font-size: 11.88px;">php</a> <a href="/ebook/tags/postgresql/" style="font-size: 10px;">postgresql</a> <a href="/ebook/tags/python/" style="font-size: 20px;">python</a> <a href="/ebook/tags/qt/" style="font-size: 11.25px;">qt</a> <a href="/ebook/tags/react/" style="font-size: 10.63px;">react</a> <a href="/ebook/tags/redis/" style="font-size: 11.25px;">redis</a> <a href="/ebook/tags/ruby/" style="font-size: 10.63px;">ruby</a> <a href="/ebook/tags/scala/" style="font-size: 10px;">scala</a> <a href="/ebook/tags/scipy/" style="font-size: 11.25px;">scipy</a> <a href="/ebook/tags/selenium/" style="font-size: 10.63px;">selenium</a> <a href="/ebook/tags/seo/" style="font-size: 10px;">seo</a> <a href="/ebook/tags/servlet/" style="font-size: 11.25px;">servlet</a> <a href="/ebook/tags/sphinx/" style="font-size: 10px;">sphinx</a> <a href="/ebook/tags/spring/" style="font-size: 11.25px;">spring</a> <a href="/ebook/tags/sql/" style="font-size: 10.63px;">sql</a> <a href="/ebook/tags/sqlalchemy/" style="font-size: 10px;">sqlalchemy</a> <a href="/ebook/tags/sqlite/" style="font-size: 11.25px;">sqlite</a> <a href="/ebook/tags/sqlserver/" style="font-size: 10px;">sqlserver</a> <a href="/ebook/tags/swift/" style="font-size: 11.88px;">swift</a> <a href="/ebook/tags/tornado/" style="font-size: 10px;">tornado</a> <a href="/ebook/tags/typescript/" style="font-size: 10px;">typescript</a> <a href="/ebook/tags/unity3d/" style="font-size: 10px;">unity3d</a> <a href="/ebook/tags/vb-net/" style="font-size: 10px;">vb.net</a> <a href="/ebook/tags/vbs/" style="font-size: 11.25px;">vbs</a> <a href="/ebook/tags/velocity/" style="font-size: 10px;">velocity</a> <a href="/ebook/tags/vim/" style="font-size: 10px;">vim</a> <a href="/ebook/tags/vs2010/" style="font-size: 10px;">vs2010</a> <a href="/ebook/tags/vue-js/" style="font-size: 10px;">vue.js</a> <a href="/ebook/tags/webgl/" style="font-size: 10px;">webgl</a> <a href="/ebook/tags/weka/" style="font-size: 10px;">weka</a> <a href="/ebook/tags/werkzurg/" style="font-size: 10px;">werkzurg</a> <a href="/ebook/tags/windows/" style="font-size: 10px;">windows</a> <a href="/ebook/tags/wireshark/" style="font-size: 10.63px;">wireshark</a> <a href="/ebook/tags/wordpress/" style="font-size: 10px;">wordpress</a> <a href="/ebook/tags/wtl/" style="font-size: 10px;">wtl</a> <a href="/ebook/tags/wxwidgets/" style="font-size: 10px;">wxwidgets</a> <a href="/ebook/tags/xml/" style="font-size: 10.63px;">xml</a> <a href="/ebook/tags/yii/" style="font-size: 10px;">yii</a> <a href="/ebook/tags/zepto-js/" style="font-size: 10px;">zepto.js</a> <a href="/ebook/tags/中间件/" style="font-size: 10px;">中间件</a> <a href="/ebook/tags/入门/" style="font-size: 10.63px;">入门</a> <a href="/ebook/tags/入门指南/" style="font-size: 11.25px;">入门指南</a> <a href="/ebook/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/ebook/tags/图像处理/" style="font-size: 10px;">图像处理</a> <a href="/ebook/tags/图形/" style="font-size: 10px;">图形</a> <a href="/ebook/tags/工程/" style="font-size: 10px;">工程</a> <a href="/ebook/tags/操作系统/" style="font-size: 11.88px;">操作系统</a> <a href="/ebook/tags/数据挖掘/" style="font-size: 11.25px;">数据挖掘</a> <a href="/ebook/tags/数据结构·算法/" style="font-size: 13.75px;">数据结构·算法</a> <a href="/ebook/tags/数理逻辑·数学/" style="font-size: 10px;">数理逻辑·数学</a> <a href="/ebook/tags/正则表达式/" style="font-size: 10px;">正则表达式</a> <a href="/ebook/tags/汇编/" style="font-size: 10.63px;">汇编</a> <a href="/ebook/tags/测试/" style="font-size: 11.25px;">测试</a> <a href="/ebook/tags/消息/" style="font-size: 10px;">消息</a> <a href="/ebook/tags/渗透/" style="font-size: 18.13px;">渗透</a> <a href="/ebook/tags/科学计算/" style="font-size: 13.75px;">科学计算</a> <a href="/ebook/tags/算法/" style="font-size: 10px;">算法</a> <a href="/ebook/tags/综合/" style="font-size: 13.75px;">综合</a> <a href="/ebook/tags/编译/" style="font-size: 10px;">编译</a> <a href="/ebook/tags/网站建设/" style="font-size: 10px;">网站建设</a> <a href="/ebook/tags/网络/" style="font-size: 11.88px;">网络</a> <a href="/ebook/tags/计算机文化/" style="font-size: 16.88px;">计算机文化</a> <a href="/ebook/tags/设计模式/" style="font-size: 11.88px;">设计模式</a> <a href="/ebook/tags/逆向/" style="font-size: 16.25px;">逆向</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2018/06/">六月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2016/04/">四月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2016/03/">三月 2016</a><span class="archive-list-count">72</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2016/02/">二月 2016</a><span class="archive-list-count">33</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2016/01/">一月 2016</a><span class="archive-list-count">84</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2015/12/">十二月 2015</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2015/11/">十一月 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2015/09/">九月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2015/07/">七月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2015/06/">六月 2015</a><span class="archive-list-count">28</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2015/05/">五月 2015</a><span class="archive-list-count">46</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2015/04/">四月 2015</a><span class="archive-list-count">100</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2015/03/">三月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2015/01/">一月 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/ebook/archives/2014/10/">十月 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 IKin<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/ebook/../" class="mobile-nav-link">Home</a>
  
    <a href="/ebook/../ebook/" class="mobile-nav-link">Ebook</a>
  
    <a href="/ebook/../about/" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/ebook/fancybox/jquery.fancybox.css">
  <script src="/ebook/fancybox/jquery.fancybox.pack.js"></script>


<script src="/ebook/js/script.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2de072f84a3c26d66dbb30aeadaf3cbe";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


  </div>
</body>
</html>